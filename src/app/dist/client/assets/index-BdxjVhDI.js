import{c as Y,r as l,j as i,N as _e,B as P,ap as Kr,aq as Fr,ar as Wr,as as Gr,k as K,H as Vr,J as qr,K as Hr,M as Ur,aa as Zr,ab as Xr,z as Yr,a0 as Jr,at as Qr,au as ea,av as ra,aw as Be,d as q,ax as aa,E as ta,t as cr,ay as T,az as dr,G as na,U as ia,D as sa,$ as la,m as oa,W as ca,Y as da,Z as ua,_ as ma,aA as fa,u as pa,a as va,e as ha,aB as xa,aC as ga}from"./main-oBfCarfk.js";import{T as ya,a as ba,b as xe,c as ge}from"./tabs-DVTc6-Rb.js";import{C as I,a as _,b as ne,c as ie}from"./card-C5iuDLNY.js";import{L as ja,C as Pa,a as wa}from"./lock-Bzha7_tY.js";import{C as Oa}from"./chevron-right-DzRrl-eW.js";import{E as $e}from"./external-link-CsvnNyN7.js";import{C as Aa}from"./circle-check-big-CihxHQxh.js";import{C as Me,B as Ae,L as Ne,P as Na,a as ka,M as Ea,b as Sa,H as Ca,c as Da,d as Ta,S as ur,F as Ra,e as La}from"./index-zHnbUOvX.js";import{s as H,r as Ia,c as g,a as ce,b as _a,d as mr,e as Ba,f as $,p as R,g as $a,h as F,i as Ma,j as za,k as Ka,l as fr,m as Fa,n as Wa,o as Ga,q as Va,t as qa,u as Ha,v as Ua,w as Za,x as Xa,y as Ya,z as se,A as Ja,B as pr,C as Qa,D as vr,E as Se,F as et,G as rt,H as at,I as tt,J as W,K as hr,L as E,M as de,Z as ue,N as S,O as C,P as xr,Q as gr,R as nt,S as Ce,T as yr,U as De,V as it,W as st,X as D,Y as lt,_ as ot,$ as br,a0 as jr,a1 as Pr,a2 as wr,a3 as Or,a4 as ct,a5 as dt,a6 as ut,a7 as Ar,a8 as mt,a9 as le,aa as ft,ab as ze,ac as pt,ad as vt,ae as ht,af as Nr,ag as xt,ah as gt,ai as yt,aj as Ke,ak as bt,al as jt,am as Pt,an as wt,ao as te,ap as Ot,aq as At,ar as Nt,as as kt,at as Et,au as St,av as Ct,aw as Dt,ax as Tt,ay as Rt,az as Lt}from"./CategoricalChart-D0Bd6IcH.js";import{T as It}from"./trending-up-CkojdFP-.js";import{M as _t}from"./minus-ncef3NoK.js";import{F as Bt}from"./folder-open-EaNXFIAV.js";import{T as $t}from"./trophy-nIlxVjei.js";const Mt=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zt=Y("chart-column",Mt);const Kt=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ft=Y("download",Kt);const Wt=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],Gt=Y("file-code",Wt);const Vt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],qt=Y("grid-3x3",Vt);const Ht=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Fe=Y("share-2",Ht);function Ut({artifacts:e}){const[r,a]=l.useState("list"),[t,n]=l.useState(!1),[s,o]=l.useState(null),c=Array.from(new Set(e.map(p=>p.projectId))).map(p=>{const h=e.find(O=>O.projectId===p);return{id:p,title:h.projectTitle}}),[d,u]=l.useState(new Set(c.map(p=>p.id))),f=e.reduce((p,h)=>(p[h.projectId]||(p[h.projectId]=[]),p[h.projectId].push(h),p),{}),m=p=>{const h=new Set(d);h.has(p)?h.delete(p):h.add(p),u(h)},v=p=>{switch(p){case"approved":return i.jsxs(q,{className:"bg-green-500/10 text-green-500 border-green-500/30",children:[i.jsx(Aa,{className:"w-3 h-3 mr-1"}),"Approved"]});case"submitted":case"under_review":return i.jsxs(q,{className:"bg-blue-500/10 text-blue-500 border-blue-500/30",children:[i.jsx(ta,{className:"w-3 h-3 mr-1"}),"Under Review"]});case"needs_revision":return i.jsxs(q,{className:"bg-amber-500/10 text-amber-500 border-amber-500/30",children:[i.jsx(aa,{className:"w-3 h-3 mr-1"}),"Needs Revision"]});default:return i.jsx(q,{variant:"outline",children:"Draft"})}},x=p=>{switch(p){case"code":return i.jsx(Pa,{className:"w-5 h-5 text-cyan-400"});case"markdown":return i.jsx(Gt,{className:"w-5 h-5 text-purple-400"});default:return i.jsx(_e,{className:"w-5 h-5 text-blue-400"})}},y=p=>{o(p),n(!0)},j=p=>{const h=`https://p3bl.app/showcase/${s?.id}?exp=${p}`;navigator.clipboard.writeText(h),cr.success("Link copied to clipboard!",{description:`Expires: ${p==="never"?"Never":p}`}),n(!1)};return e.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mx-auto mb-4",children:i.jsx(_e,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No artifacts yet"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Complete your first deliverable to see it here"}),i.jsx(P,{variant:"outline",asChild:!0,children:i.jsx("a",{href:"/workspace",children:"Go to Workspace"})})]}):i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," artifact",e.length!==1?"s":""," across ",c.length," project",c.length!==1?"s":""]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(P,{variant:r==="list"?"secondary":"ghost",size:"icon",onClick:()=>a("list"),children:i.jsx(ja,{className:"w-4 h-4"})}),i.jsx(P,{variant:r==="grid"?"secondary":"ghost",size:"icon",onClick:()=>a("grid"),children:i.jsx(qt,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"space-y-6",children:c.filter(p=>f[p.id]?.length>0).map(p=>i.jsxs(Kr,{open:d.has(p.id),onOpenChange:()=>m(p.id),children:[i.jsx(Fr,{asChild:!0,children:i.jsxs("button",{className:"w-full flex items-center gap-3 p-4 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors",children:[d.has(p.id)?i.jsx(Wr,{className:"w-5 h-5 text-muted-foreground"}):i.jsx(Oa,{className:"w-5 h-5 text-muted-foreground"}),i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"font-semibold",children:p.title}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[f[p.id].length," artifact",f[p.id].length!==1?"s":""]})]})]})}),i.jsx(Gr,{children:i.jsx("div",{className:K("mt-4",r==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-3"),children:f[p.id].sort((h,O)=>new Date(O.updatedAt).getTime()-new Date(h.updatedAt).getTime()).map(h=>i.jsx(Zt,{artifact:h,viewMode:r,onShare:()=>y(h),getStatusBadge:v,getTypeIcon:x},h.id))})})]},p.id))}),i.jsx(Vr,{open:t,onOpenChange:n,children:i.jsxs(qr,{children:[i.jsxs(Hr,{children:[i.jsx(Ur,{children:"Create Showcase Link"}),i.jsx(Zr,{children:"Generate a public link to share this artifact. Choose an expiration time."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 py-4",children:[i.jsx(P,{variant:"outline",onClick:()=>j("7days"),children:"7 Days"}),i.jsx(P,{variant:"outline",onClick:()=>j("30days"),children:"30 Days"}),i.jsx(P,{variant:"outline",onClick:()=>j("90days"),children:"90 Days"}),i.jsx(P,{variant:"outline",onClick:()=>j("never"),children:"Never Expires"})]}),i.jsx(Xr,{children:i.jsx(P,{variant:"ghost",onClick:()=>n(!1),children:"Cancel"})})]})})]})}function Zt({artifact:e,viewMode:r,onShare:a,getStatusBadge:t,getTypeIcon:n}){return r==="grid"?i.jsx(I,{className:"hover:border-cyan-500/50 transition-colors",children:i.jsxs(_,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center shrink-0",children:n(e.contentType)}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h4",{className:"font-medium truncate",children:e.title}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e.sessionTitle})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[t(e.status),i.jsx("span",{className:"text-xs text-muted-foreground",children:e.latestVersion?Yr(new Date(e.updatedAt),{addSuffix:!0}):"Draft"})]}),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsxs(P,{variant:"ghost",size:"sm",className:"flex-1 gap-1",children:[i.jsx($e,{className:"w-3 h-3"}),"View"]}),i.jsx(P,{variant:"ghost",size:"sm",onClick:a,children:i.jsx(Fe,{className:"w-3 h-3"})})]})]})}):i.jsx(I,{className:"hover:border-cyan-500/50 transition-colors",children:i.jsxs(_,{className:"p-4 flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-lg bg-muted flex items-center justify-center shrink-0",children:n(e.contentType)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-medium truncate",children:e.title}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:e.sessionTitle})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[t(e.status),i.jsx("span",{className:"text-sm text-muted-foreground",children:e.latestVersion?Jr(new Date(e.updatedAt),"MMM d, yyyy HH:mm"):"Draft"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(P,{variant:"ghost",size:"sm",className:"gap-1",children:[i.jsx($e,{className:"w-4 h-4"}),"View"]}),i.jsxs(Qr,{children:[i.jsx(ea,{asChild:!0,children:i.jsx(P,{variant:"ghost",size:"sm",children:i.jsx(Fe,{className:"w-4 h-4"})})}),i.jsxs(ra,{align:"end",children:[i.jsx(Be,{onClick:a,children:"Create Showcase Link"}),i.jsx(Be,{children:"Share to Team Chat"})]})]}),i.jsx(P,{variant:"ghost",size:"sm",children:i.jsx(Ft,{className:"w-4 h-4"})})]})]})})}var Xt=["points","className","baseLinePoints","connectNulls"],We;function z(){return z=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},z.apply(null,arguments)}function Yt(e,r){if(e==null)return{};var a,t,n=Jt(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)a=s[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Jt(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}function Qt(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var Ge=e=>e!=null&&e.x===+e.x&&e.y===+e.y,en=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=[[]];r.forEach(o=>{var c=a[a.length-1];Ge(o)?c&&c.push(o):c&&c.length>0&&a.push([])});var t=r[0],n=a[a.length-1];Ge(t)&&n&&n.push(t);var s=a[a.length-1];return s&&s.length<=0&&(a=a.slice(0,-1)),a},U=(e,r)=>{var a=en(e);r&&(a=[a.reduce((n,s)=>[...n,...s],[])]);var t=a.map(n=>n.reduce((s,o,c)=>Ia(We||(We=Qt(["","","",",",""])),s,c===0?"M":"L",o.x,o.y),"")).join("");return a.length===1?"".concat(t,"Z"):t},rn=(e,r,a)=>{var t=U(e,a);return"".concat(t.slice(-1)==="Z"?t.slice(0,-1):t,"L").concat(U(Array.from(r).reverse(),a).slice(1))},kr=e=>{var{points:r,className:a,baseLinePoints:t,connectNulls:n}=e,s=Yt(e,Xt);if(!r||!r.length)return null;var o=T("recharts-polygon",a);if(t&&t.length){var c=s.stroke&&s.stroke!=="none",d=rn(r,t,n);return l.createElement("g",{className:o},l.createElement("path",z({},H(s),{fill:d.slice(-1)==="Z"?s.fill:"none",stroke:"none",d})),c?l.createElement("path",z({},H(s),{fill:"none",d:U(r,n)})):null,c?l.createElement("path",z({},H(s),{fill:"none",d:U(t,n)})):null)}var u=U(r,n);return l.createElement("path",z({},H(s),{fill:u.slice(-1)==="Z"?s.fill:"none",className:o,d:u}))},Er=e=>e.graphicalItems.polarItems,an=g([R,Xa],Ya),me=g([Er,$,an],qa),tn=g([me],Ha),fe=g([tn,fr],Fa),Sr=g([fe,$,me],Ka);g([fe,$,me],(e,r,a)=>a.length>0?e.flatMap(t=>a.flatMap(n=>{var s,o=se(t,(s=r.dataKey)!==null&&s!==void 0?s:n.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):r?.dataKey!=null?e.map(t=>({value:se(t,r.dataKey),errorDomain:[]})):e.map(t=>({value:t,errorDomain:[]})));var Ve=()=>{},nn=g([fe,$,me,Ua,R],Za),sn=g([$,Wa,Ga,Ve,nn,Ve,F,R],Va),Cr=g([$,F,fe,Sr,Ma,R,sn],za),Dr=g([Cr,mr,ce],Ba),ln=g([$,Cr,Dr,R],$a),on=g([ce,ln],_a),Te=(e,r,a)=>{switch(r){case"angleAxis":return Se(e,a);case"radiusAxis":return vr(e,a);default:throw new Error("Unexpected axis type: ".concat(r))}},Re=(e,r,a)=>{switch(r){case"angleAxis":return rt(e,a);case"radiusAxis":return et(e,a);default:throw new Error("Unexpected axis type: ".concat(r))}},G=g([Te,ce,on,Re],Ja),Tr=g([F,Sr,mr,R],at),V=g([F,Te,ce,G,Dr,Re,pr,Tr,R],Qa),cn=g([V],e=>{if(e){var r=new Map;return e.forEach(a=>{var t=(a.coordinate+360)%360;r.has(t)||r.set(t,a)}),Array.from(r.values())}});g([F,Te,G,Re,pr,Tr,R],tt);var dn=(e,r)=>V(e,"angleAxis",r,!1),un=g([dn],e=>{if(e)return e.map(r=>r.coordinate)}),mn=(e,r)=>V(e,"radiusAxis",r,!1),fn=g([mn],e=>{if(e)return e.map(r=>r.coordinate)}),pn=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius","zIndex"];function vn(e,r){if(e==null)return{};var a,t,n=hn(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)a=s[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function hn(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},N.apply(null,arguments)}function qe(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,t)}return a}function pe(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?qe(Object(a),!0).forEach(function(t){xn(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qe(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function xn(e,r,a){return(r=gn(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function gn(e){var r=yn(e,"string");return typeof r=="symbol"?r:r+""}function yn(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var bn=(e,r,a,t)=>{var n="";return t.forEach((s,o)=>{var c=C(r,a,e,s);o?n+="L ".concat(c.x,",").concat(c.y):n+="M ".concat(c.x,",").concat(c.y)}),n+="Z",n},jn=e=>{var{cx:r,cy:a,innerRadius:t,outerRadius:n,polarAngles:s,radialLines:o}=e;if(!s||!s.length||!o)return null;var c=pe({stroke:"#ccc"},S(e));return l.createElement("g",{className:"recharts-polar-grid-angle"},s.map(d=>{var u=C(r,a,t,d),f=C(r,a,n,d);return l.createElement("line",N({key:"line-".concat(d)},c,{x1:u.x,y1:u.y,x2:f.x,y2:f.y}))}))},He=e=>{var{cx:r,cy:a,radius:t}=e,n=pe({stroke:"#ccc",fill:"none"},S(e));return l.createElement("circle",N({},n,{className:T("recharts-polar-grid-concentric-circle",e.className),cx:r,cy:a,r:t}))},Ue=e=>{var{radius:r}=e,a=pe({stroke:"#ccc",fill:"none"},S(e));return l.createElement("path",N({},a,{className:T("recharts-polar-grid-concentric-polygon",e.className),d:bn(r,e.cx,e.cy,e.polarAngles)}))},Pn=e=>{var{polarRadius:r,gridType:a}=e;if(!r||!r.length)return null;var t=Math.max(...r),n=e.fill&&e.fill!=="none";return l.createElement("g",{className:"recharts-polar-grid-concentric"},n&&a==="circle"&&l.createElement(He,N({},e,{radius:t})),n&&a!=="circle"&&l.createElement(Ue,N({},e,{radius:t})),r.map((s,o)=>{var c=o;return a==="circle"?l.createElement(He,N({key:c},e,{fill:"none",radius:s})):l.createElement(Ue,N({key:c},e,{fill:"none",radius:s}))}))},wn={angleAxisId:0,radiusAxisId:0,gridType:"polygon",radialLines:!0,zIndex:hr.grid},Rr=e=>{var r,a,t,n,s,o,c,d,u=W(e,wn),{gridType:f,radialLines:m,angleAxisId:v,radiusAxisId:x,cx:y,cy:j,innerRadius:p,outerRadius:h,polarAngles:O,polarRadius:L,zIndex:M}=u,ve=vn(u,pn),b=E(de),J=E(he=>un(he,v)),Q=E(he=>fn(he,x)),ee=Array.isArray(O)?O:J,re=Array.isArray(L)?L:Q;if(ee==null||re==null)return null;var ae=pe({cx:(r=(a=b?.cx)!==null&&a!==void 0?a:y)!==null&&r!==void 0?r:0,cy:(t=(n=b?.cy)!==null&&n!==void 0?n:j)!==null&&t!==void 0?t:0,innerRadius:(s=(o=b?.innerRadius)!==null&&o!==void 0?o:p)!==null&&s!==void 0?s:0,outerRadius:(c=(d=b?.outerRadius)!==null&&d!==void 0?d:h)!==null&&c!==void 0?c:0,polarAngles:ee,polarRadius:re,zIndex:M},ve),{outerRadius:zr}=ae;return zr<=0?null:l.createElement(ue,{zIndex:ae.zIndex},l.createElement("g",{className:"recharts-polar-grid"},l.createElement(Pn,N({gridType:f,radialLines:m},ae,{polarAngles:ee,polarRadius:re})),l.createElement(jn,N({gridType:f,radialLines:m},ae,{polarAngles:ee,polarRadius:re}))))};Rr.displayName="PolarGrid";var ye={},be={},Ze;function On(){return Ze||(Ze=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(a,t){if(a.length===0)return;let n=a[0],s=t(n,0,a);for(let o=1;o<a.length;o++){const c=a[o],d=t(c,o,a);d>s&&(s=d,n=c)}return n}e.maxBy=r})(be)),be}var Xe;function An(){return Xe||(Xe=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=On(),a=gr(),t=xr();function n(s,o){if(s!=null)return r.maxBy(Array.from(s),t.iteratee(o??a.identity))}e.maxBy=n})(ye)),ye}var je,Ye;function Nn(){return Ye||(Ye=1,je=An().maxBy),je}var kn=Nn();const En=dr(kn);var Pe={},we={},Je;function Sn(){return Je||(Je=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(a,t){if(a.length===0)return;let n=a[0],s=t(n,0,a);for(let o=1;o<a.length;o++){const c=a[o],d=t(c,o,a);d<s&&(s=d,n=c)}return n}e.minBy=r})(we)),we}var Qe;function Cn(){return Qe||(Qe=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Sn(),a=gr(),t=xr();function n(s,o){if(s!=null)return r.minBy(Array.from(s),t.iteratee(o??a.identity))}e.minBy=n})(Pe)),Pe}var Oe,er;function Dn(){return er||(er=1,Oe=Cn().minBy),Oe}var Tn=Dn();const Rn=dr(Tn);var Ln=["type"],In=["cx","cy","angle","axisLine"],_n=["angle","tickFormatter","stroke","tick"];function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},Z.apply(null,arguments)}function rr(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,t)}return a}function k(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?rr(Object(a),!0).forEach(function(t){Bn(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rr(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Bn(e,r,a){return(r=$n(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function $n(e){var r=Mn(e,"string");return typeof r=="symbol"?r:r+""}function Mn(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Le(e,r){if(e==null)return{};var a,t,n=zn(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)a=s[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function zn(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}var Kn="radiusAxis";function Fn(e){var r=Ce(),a=yr(),t=l.useMemo(()=>{var{type:n}=e,s=Le(e,Ln),o=br(a,"radiusAxis",n);if(o!=null)return k(k({},s),{},{type:o})},[e,a]);return l.useEffect(()=>t==null?De:(r(it(t)),()=>{r(st(t))}),[r,t]),null}var Wn=(e,r,a,t)=>{var{coordinate:n}=e;return C(a,t,n,r)},Gn=e=>{var r;switch(e){case"left":r="end";break;case"right":r="start";break;default:r="middle";break}return r},Vn=(e,r,a,t)=>{var n=En(t,o=>o.coordinate||0),s=Rn(t,o=>o.coordinate||0);return{cx:r,cy:a,startAngle:e,endAngle:e,innerRadius:s?.coordinate||0,outerRadius:n?.coordinate||0,clockWise:!1}},qn=(e,r)=>{var{cx:a,cy:t,angle:n,axisLine:s}=e,o=Le(e,In),c=r.reduce((m,v)=>[Math.min(m[0],v.coordinate),Math.max(m[1],v.coordinate)],[1/0,-1/0]),d=C(a,t,c[0],n),u=C(a,t,c[1],n),f=k(k(k({},S(o)),{},{fill:"none"},S(s)),{},{x1:d.x,y1:d.y,x2:u.x,y2:u.y});return l.createElement("line",Z({className:"recharts-polar-radius-axis-line"},f))},Hn=(e,r,a)=>{var t;return l.isValidElement(e)?t=l.cloneElement(e,r):typeof e=="function"?t=e(r):t=l.createElement(Or,Z({},r,{className:"recharts-polar-radius-axis-tick-value"}),a),t},Un=(e,r)=>{var{angle:a,tickFormatter:t,stroke:n,tick:s}=e,o=Le(e,_n),c=Gn(e.orientation),d=S(o),u=jr(s),f=r.map((m,v)=>{var x=Wn(m,e.angle,e.cx,e.cy),y=k(k(k(k({textAnchor:c,transform:"rotate(".concat(90-a,", ").concat(x.x,", ").concat(x.y,")")},d),{},{stroke:"none",fill:n},u),{},{index:v},x),{},{payload:m});return l.createElement(D,Z({className:T("recharts-polar-radius-axis-tick",wr(s)),key:"tick-".concat(m.coordinate)},Pr(e,m,v)),Hn(s,y,t?t(m.value,v):m.value))});return l.createElement(D,{className:"recharts-polar-radius-axis-ticks"},f)},Zn=e=>{var{radiusAxisId:r}=e,a=E(de),t=E(d=>G(d,"radiusAxis",r)),n=E(d=>V(d,"radiusAxis",r,!1));if(a==null||!n||!n.length||t==null)return null;var s=k(k({},e),{},{scale:t},a),{tick:o,axisLine:c}=s;return l.createElement(ue,{zIndex:s.zIndex},l.createElement(D,{className:T("recharts-polar-radius-axis",Kn,s.className)},c&&qn(s,n),o&&Un(s,n),l.createElement(lt,Vn(s.angle,s.cx,s.cy,n),l.createElement(ot,{label:s.label}),s.children)))};function Lr(e){var r=W(e,nt);return l.createElement(l.Fragment,null,l.createElement(Fn,{domain:r.domain,id:r.radiusAxisId,scale:r.scale,type:r.type,dataKey:r.dataKey,unit:void 0,name:r.name,allowDuplicatedCategory:r.allowDuplicatedCategory,allowDataOverflow:r.allowDataOverflow,reversed:r.reversed,includeHidden:r.includeHidden,allowDecimals:r.allowDecimals,ticks:r.ticks,tickCount:r.tickCount,tick:r.tick}),l.createElement(Zn,r))}Lr.displayName="PolarRadiusAxis";var Xn=["children","type"];function B(){return B=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},B.apply(null,arguments)}function ar(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,t)}return a}function A(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?ar(Object(a),!0).forEach(function(t){Yn(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ar(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Yn(e,r,a){return(r=Jn(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function Jn(e){var r=Qn(e,"string");return typeof r=="symbol"?r:r+""}function Qn(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ei(e,r){if(e==null)return{};var a,t,n=ri(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)a=s[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ri(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}var tr=1e-5,ai=Math.cos(le(45)),ti="angleAxis";function ni(e){var r=Ce(),a=yr(),t=l.useMemo(()=>{var{children:o,type:c}=e,d=ei(e,Xn),u=br(a,"angleAxis",c);if(u!=null)return A(A({},d),{},{type:u})},[e,a]),n=E(o=>Se(o,t?.id)),s=t===n;return l.useEffect(()=>t==null?De:(r(dt(t)),()=>{r(ut(t))}),[r,t]),s?e.children:null}var ii=(e,r)=>{var{cx:a,cy:t,radius:n,orientation:s,tickSize:o}=r,c=o||8,d=C(a,t,n,e.coordinate),u=C(a,t,n+(s==="inner"?-1:1)*c,e.coordinate);return{x1:d.x,y1:d.y,x2:u.x,y2:u.y}},si=(e,r)=>{var a=Math.cos(le(-e.coordinate));return a>tr?r==="outer"?"start":"end":a<-tr?r==="outer"?"end":"start":"middle"},li=e=>{var r=Math.cos(le(-e.coordinate)),a=Math.sin(le(-e.coordinate));return Math.abs(r)<=ai?a>0?"start":"end":"middle"},oi=e=>{var{cx:r,cy:a,radius:t,axisLineType:n,axisLine:s,ticks:o}=e;if(!s)return null;var c=A(A({},S(e)),{},{fill:"none"},S(s));if(n==="circle")return l.createElement(mt,B({className:"recharts-polar-angle-axis-line"},c,{cx:r,cy:a,r:t}));var d=o.map(u=>C(r,a,t,u.coordinate));return l.createElement(kr,B({className:"recharts-polar-angle-axis-line"},c,{points:d}))},ci=e=>{var{tick:r,tickProps:a,value:t}=e;return r?l.isValidElement(r)?l.cloneElement(r,a):typeof r=="function"?r(a):l.createElement(Or,B({},a,{className:"recharts-polar-angle-axis-tick-value"}),t):null},di=e=>{var{tick:r,tickLine:a,tickFormatter:t,stroke:n,ticks:s}=e,o=S(e),c=jr(r),d=A(A({},o),{},{fill:"none"},S(a)),u=s.map((f,m)=>{var v=ii(f,e),x=si(f,e.orientation),y=li(f),j=A(A(A({},o),{},{textAnchor:x,verticalAnchor:y,stroke:"none",fill:n},c),{},{index:m,payload:f,x:v.x2,y:v.y2});return l.createElement(D,B({className:T("recharts-polar-angle-axis-tick",wr(r)),key:"tick-".concat(f.coordinate)},Pr(e,f,m)),a&&l.createElement("line",B({className:"recharts-polar-angle-axis-tick-line"},d,v)),l.createElement(ci,{tick:r,tickProps:j,value:t?t(f.value,m):f.value}))});return l.createElement(D,{className:"recharts-polar-angle-axis-ticks"},u)},ui=e=>{var{angleAxisId:r}=e,a=E(de),t=E(c=>G(c,"angleAxis",r)),n=Ar(),s=E(c=>cn(c,"angleAxis",r,n));if(a==null||!s||!s.length||t==null)return null;var o=A(A(A({},e),{},{scale:t},a),{},{radius:a.outerRadius,ticks:s});return l.createElement(ue,{zIndex:o.zIndex},l.createElement(D,{className:T("recharts-polar-angle-axis",ti,o.className)},l.createElement(oi,o),l.createElement(di,o)))};function Ir(e){var r=W(e,ct);return l.createElement(ni,{id:r.angleAxisId,scale:r.scale,type:r.type,dataKey:r.dataKey,unit:void 0,name:r.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:r.reversed,includeHidden:!1,allowDecimals:r.allowDecimals,tickCount:r.tickCount,ticks:r.ticks,tick:r.tick,domain:r.domain},l.createElement(ui,r))}Ir.displayName="PolarAngleAxis";function nr(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,t)}return a}function oe(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?nr(Object(a),!0).forEach(function(t){mi(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nr(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function mi(e,r,a){return(r=fi(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function fi(e){var r=pi(e,"string");return typeof r=="symbol"?r:r+""}function pi(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var _r=(e,r)=>G(e,"radiusAxis",r),vi=g([_r],e=>{if(e!=null)return{scale:e}}),hi=g([vr,_r],(e,r)=>{if(!(e==null||r==null))return oe(oe({},e),{},{scale:r})}),xi=(e,r,a,t)=>V(e,"radiusAxis",r,t),Br=(e,r,a)=>Se(e,a),$r=(e,r,a)=>G(e,"angleAxis",a),gi=g([Br,$r],(e,r)=>{if(!(e==null||r==null))return oe(oe({},e),{},{scale:r})}),yi=(e,r,a,t)=>V(e,"angleAxis",a,t),bi=g([Br,$r,de],(e,r,a)=>{if(!(a==null||r==null))return{scale:r,type:e.type,dataKey:e.dataKey,cx:a.cx,cy:a.cy}}),ji=(e,r,a,t,n)=>n,Pi=g([F,hi,xi,gi,yi],(e,r,a,t,n)=>ft(e,"radiusAxis")?ze(r,a,!1):ze(t,n,!1)),wi=g([Er,ji],(e,r)=>{if(e!=null){var a=e.find(t=>t.type==="radar"&&r===t.id);return a?.dataKey}}),Oi=g([vi,bi,fr,wi,Pi],(e,r,a,t,n)=>{var{chartData:s,dataStartIndex:o,dataEndIndex:c}=a;if(!(e==null||r==null||s==null||n==null||t==null)){var d=s.slice(o,c+1);return Li({radiusAxis:e,angleAxis:r,displayedData:d,dataKey:t,bandSize:n})}}),Ai=["id"];function X(){return X=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},X.apply(null,arguments)}function ir(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,t)}return a}function w(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?ir(Object(a),!0).forEach(function(t){Ni(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ir(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Ni(e,r,a){return(r=ki(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function ki(e){var r=Ei(e,"string");return typeof r=="symbol"?r:r+""}function Ei(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Si(e,r){if(e==null)return{};var a,t,n=Ci(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)a=s[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ci(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}function Ie(e,r){return e&&e!=="none"?e:r}var Di=e=>{var{dataKey:r,name:a,stroke:t,fill:n,legendType:s,hide:o}=e;return[{inactive:o,dataKey:r,type:s,color:Ie(t,n),value:Nr(a,r),payload:e}]},Ti=l.memo(e=>{var{dataKey:r,stroke:a,strokeWidth:t,fill:n,name:s,hide:o,tooltipType:c,id:d}=e,u={dataDefinedOnItem:void 0,getPosition:De,settings:{stroke:a,strokeWidth:t,fill:n,nameKey:void 0,dataKey:r,name:Nr(s,r),hide:o,type:c,color:Ie(a,n),unit:"",graphicalItemId:d}};return l.createElement(xt,{tooltipEntrySettings:u})});function Ri(e){var{points:r,props:a}=e,{dot:t,dataKey:n}=a,{id:s}=a,o=Si(a,Ai),c=S(o);return l.createElement(Ot,{points:r,dot:t,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:n,baseProps:c})}function Li(e){var{radiusAxis:r,angleAxis:a,displayedData:t,dataKey:n,bandSize:s}=e,{cx:o,cy:c}=a,d=!1,u=[],f=a.type!=="number"?s??0:0;t.forEach((v,x)=>{var y,j,p=se(v,a.dataKey,x),h=se(v,n),O=((y=a.scale.map(p))!==null&&y!==void 0?y:0)+f,L=Array.isArray(h)?yt(h):h,M=Ke(L)?0:(j=r.scale.map(L))!==null&&j!==void 0?j:0;Array.isArray(h)&&h.length>=2&&(d=!0),u.push(w(w({},C(o,c,M,O)),{},{name:p,value:h,cx:o,cy:c,radius:M,angle:O,payload:v}))});var m=[];return d&&u.forEach(v=>{if(Array.isArray(v.value)){var x,y=v.value[0],j=Ke(y)?0:(x=r.scale.map(y))!==null&&x!==void 0?x:0;m.push(w(w({},v),{},{radius:j},C(o,c,j,v.angle)))}else m.push(v)}),{points:u,isRange:d,baseLinePoints:m}}function Ii(e){var{showLabels:r,points:a,children:t}=e,n=a.map(s=>{var o,c={x:s.x,y:s.y,width:0,lowerWidth:0,upperWidth:0,height:0};return w(w({},c),{},{value:(o=s.value)!==null&&o!==void 0?o:"",payload:s.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return l.createElement(wt,{value:r?n:void 0},t)}function _i(e){var{points:r,baseLinePoints:a,props:t}=e;if(r==null)return null;var{shape:n,isRange:s,connectNulls:o}=t,c=f=>{var{onMouseEnter:m}=t;m&&m(t,f)},d=f=>{var{onMouseLeave:m}=t;m&&m(t,f)},u;return l.isValidElement(n)?u=l.cloneElement(n,w(w({},t),{},{points:r})):typeof n=="function"?u=n(w(w({},t),{},{points:r})):u=l.createElement(kr,X({},H(t),{onMouseEnter:c,onMouseLeave:d,points:r,baseLinePoints:s?a:void 0,connectNulls:o})),l.createElement(D,{className:"recharts-radar-polygon"},u,l.createElement(Ri,{props:t,points:r}))}var sr=(e,r,a)=>(t,n)=>{var s=e&&e[Math.floor(n*r)];return s?w(w({},t),{},{x:te(s.x,t.x,a),y:te(s.y,t.y,a)}):w(w({},t),{},{x:te(t.cx,t.x,a),y:te(t.cy,t.y,a)})};function Bi(e){var{props:r,previousPointsRef:a,previousBaseLinePointsRef:t}=e,{points:n,baseLinePoints:s,isAnimationActive:o,animationBegin:c,animationDuration:d,animationEasing:u,onAnimationEnd:f,onAnimationStart:m}=r,v=a.current,x=t.current,y=v?v.length/n.length:1,j=x?x.length/s.length:1,p=bt(r,"recharts-radar-"),[h,O]=l.useState(!1),L=!h,M=l.useCallback(()=>{typeof f=="function"&&f(),O(!1)},[f]),ve=l.useCallback(()=>{typeof m=="function"&&m(),O(!0)},[m]);return l.createElement(Ii,{showLabels:L,points:n},l.createElement(jt,{animationId:p,begin:c,duration:d,isActive:o,easing:u,key:"radar-".concat(p),onAnimationEnd:M,onAnimationStart:ve},b=>{var J=b===1?n:n.map(sr(v,y,b)),Q=b===1?s:s?.map(sr(x,j,b));return b>0&&(a.current=J,t.current=Q),l.createElement(_i,{points:J,baseLinePoints:Q,props:r})}),l.createElement(Pt,{label:r.label}),r.children)}function $i(e){var r=l.useRef(void 0),a=l.useRef(void 0);return l.createElement(Bi,{props:e,previousPointsRef:r,previousBaseLinePointsRef:a})}var Mi={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:hr.area};function zi(e){var{hide:r,className:a,points:t}=e;if(r)return null;var n=T("recharts-radar",a);return l.createElement(ue,{zIndex:e.zIndex},l.createElement(D,{className:n},l.createElement($i,e)),l.createElement(gt,{points:t,mainColor:Ie(e.stroke,e.fill),itemDataKey:e.dataKey,activeDot:e.activeDot}))}function Ki(e){var r=Ar(),a=E(t=>Oi(t,e.radiusAxisId,e.angleAxisId,r,e.id));return a?.points==null?null:l.createElement(zi,X({},e,{points:a?.points,baseLinePoints:a?.baseLinePoints,isRange:a?.isRange}))}function ke(e){var r=W(e,Mi);return l.createElement(pt,{id:r.id,type:"radar"},a=>l.createElement(l.Fragment,null,l.createElement(vt,{type:"radar",id:a,data:void 0,dataKey:r.dataKey,hide:r.hide,angleAxisId:r.angleAxisId,radiusAxisId:r.radiusAxisId}),l.createElement(ht,{legendPayload:Di(r)}),l.createElement(Ti,{dataKey:r.dataKey,stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,name:r.name,hide:r.hide,tooltipType:r.tooltipType,id:a}),l.createElement(Ki,X({},r,{id:a}))))}ke.displayName="Radar";function Fi(e){var r=Ce();return l.useEffect(()=>{r(At(e))},[r,e]),null}var Wi=["layout"];function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},Ee.apply(null,arguments)}function Gi(e,r){if(e==null)return{};var a,t,n=Vi(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)a=s[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Vi(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}var qi={top:5,right:5,bottom:5,left:5},Mr={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qi,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Hi=l.forwardRef(function(r,a){var t,n=W(r.categoricalChartProps,Mr),{layout:s}=n,o=Gi(n,Wi),{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f}=r,m={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return l.createElement(Nt,{preloadedState:{options:m},reduxStoreName:(t=n.id)!==null&&t!==void 0?t:c},l.createElement(kt,{chartData:n.data}),l.createElement(Et,{layout:s,margin:n.margin}),l.createElement(St,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),l.createElement(Fi,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),l.createElement(Ct,Ee({},o,{ref:a})))});function lr(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,t)}return a}function or(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?lr(Object(a),!0).forEach(function(t){Ui(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lr(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Ui(e,r,a){return(r=Zi(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function Zi(e){var r=Xi(e,"string");return typeof r=="symbol"?r:r+""}function Xi(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Yi=["axis"],Ji=or(or({},Mr),{},{layout:"centric",startAngle:90,endAngle:-270}),Qi=l.forwardRef((e,r)=>{var a=W(e,Ji);return l.createElement(Hi,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Yi,tooltipPayloadSearcher:Dt,categoricalChartProps:a,ref:r})});function es({competencies:e}){const r=Object.entries(e).map(([t,n])=>({competency:Me[t],current:n.current,baseline:n.baseline||0})),a=Object.values(e).some(t=>t.baseline!==null);return i.jsxs("div",{className:"space-y-8",children:[i.jsxs(I,{children:[i.jsx(ne,{children:i.jsxs(ie,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Competency Overview"}),!a&&i.jsx(q,{variant:"outline",className:"font-normal",children:"No baseline yet"})]})}),i.jsx(_,{children:i.jsx("div",{className:"h-[400px]",children:i.jsx(Tt,{width:"100%",height:"100%",children:i.jsxs(Qi,{data:r,children:[i.jsx(Rr,{stroke:"hsl(var(--border))"}),i.jsx(Ir,{dataKey:"competency",tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),i.jsx(Lr,{angle:30,domain:[0,100],tick:{fill:"hsl(var(--muted-foreground))",fontSize:10}}),a&&i.jsx(ke,{name:"Baseline",dataKey:"baseline",stroke:"hsl(var(--muted-foreground))",fill:"hsl(var(--muted-foreground))",fillOpacity:.1,strokeDasharray:"5 5"}),i.jsx(ke,{name:"Current",dataKey:"current",stroke:"hsl(var(--chart-1))",fill:"hsl(var(--chart-1))",fillOpacity:.3}),i.jsx(Rt,{})]})})})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(e).map(([t,n])=>i.jsx(rs,{name:Me[t],current:n.current,baseline:n.baseline,insight:n.insight},t))})]})}function rs({name:e,current:r,baseline:a,insight:t}){const n=a!==null?r-a:null,s=d=>d>=70?"text-green-500":d>=50?"text-amber-500":"text-red-500",o=()=>n===null?null:n>0?i.jsx(It,{className:"w-4 h-4 text-green-500"}):n<0?i.jsx(Lt,{className:"w-4 h-4 text-red-500"}):i.jsx(_t,{className:"w-4 h-4 text-muted-foreground"}),c=()=>n===null?"":n>0?"text-green-500":n<0?"text-red-500":"text-muted-foreground";return i.jsx(I,{children:i.jsxs(_,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsx("h4",{className:"font-medium",children:e}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:K("text-2xl font-bold",s(r)),children:r}),n!==null&&i.jsxs("div",{className:K("flex items-center gap-1 text-sm",c()),children:[o(),i.jsxs("span",{children:[n>0?"+":"",n]})]})]})]}),i.jsx("div",{className:"h-2 bg-muted rounded-full mb-3 overflow-hidden",children:i.jsx("div",{className:K("h-full rounded-full transition-all",r>=70?"bg-green-500":r>=50?"bg-amber-500":"bg-red-500"),style:{width:`${r}%`}})}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:t})]})})}const as={footprints:La,flag:Ra,compass:oa,star:ur,sun:la,calendar:sa,"message-circle":Ta,"hand-helping":Da,heart:Ca,brain:Sa,megaphone:Ea,users:ia,lightbulb:ka,puzzle:Na},ts={milestone:"Milestone",engagement:"Engagement",collaboration:"Collaboration",competency:"Competency"},ns={milestone:"from-amber-500 to-orange-500",engagement:"from-green-500 to-emerald-500",collaboration:"from-blue-500 to-cyan-500",competency:"from-purple-500 to-pink-500"};function is({earnedBadgeIds:e,level:r,xp:a}){const t=Ae.reduce((m,v)=>(m[v.category]||(m[v.category]=[]),m[v.category].push({...v,earned:e.includes(v.id)}),m),{}),n=Ne.find(m=>m.level===r),s=Ne.find(m=>m.level===r+1),o=n?.xpRequired||0,c=s?.xpRequired||a,d=s?(a-o)/(c-o)*100:100,u=ss(e,r,a),f=()=>{navigator.clipboard.writeText(u),cr.success("Copied to clipboard!")};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs(I,{children:[i.jsx(ne,{children:i.jsx(ie,{children:"Level Progress"})}),i.jsx(_,{children:i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-3xl font-bold text-white",children:r})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-semibold text-lg",children:n?.name}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[a," XP"]})]}),i.jsx(na,{value:d,className:"h-3 mb-2"}),s?i.jsxs("p",{className:"text-sm text-muted-foreground",children:[c-a," XP to Level ",s.level," (",s.name,")"]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum level reached!"})]})]})})]}),i.jsxs(I,{children:[i.jsx(ne,{children:i.jsxs(ie,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Badge Collection"}),i.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[e.length," / ",Ae.length," earned"]})]})}),i.jsx(_,{children:i.jsx("div",{className:"space-y-6",children:Object.entries(t).map(([m,v])=>i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-3 uppercase tracking-wider",children:ts[m]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:v.map(x=>{const y=as[x.icon]||ur;return i.jsx(ca,{children:i.jsxs(da,{children:[i.jsx(ua,{asChild:!0,children:i.jsxs("div",{className:K("relative flex flex-col items-center gap-2 p-4 rounded-xl border transition-all",x.earned?"bg-card hover:border-cyan-500/50":"bg-muted/30 opacity-50"),children:[i.jsx("div",{className:K("w-12 h-12 rounded-full flex items-center justify-center",x.earned?`bg-gradient-to-br ${ns[m]} text-white`:"bg-muted text-muted-foreground"),children:x.earned?i.jsx(y,{className:"w-6 h-6"}):i.jsx(wa,{className:"w-5 h-5"})}),i.jsx("span",{className:"text-xs font-medium text-center",children:x.name})]})}),i.jsxs(ma,{children:[i.jsx("p",{className:"font-medium",children:x.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:x.description}),!x.earned&&i.jsx("p",{className:"text-xs text-amber-400 mt-1",children:"Not yet earned"})]})]})},x.id)})})]},m))})})]}),i.jsxs(I,{children:[i.jsx(ne,{children:i.jsxs(ie,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Experience Synthesis"}),i.jsxs(P,{variant:"outline",size:"sm",onClick:f,className:"gap-2",children:[i.jsx(fa,{className:"w-4 h-4"}),"Copy"]})]})}),i.jsxs(_,{children:[i.jsx("div",{className:"bg-muted/30 rounded-lg p-4",children:i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:u})}),i.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"This AI-generated summary is updated as you complete projects. Use it for portfolios or applications."})]})]})]})}function ss(e,r,a){const t=Ne.find(u=>u.level===r),n=e.length,s=Ae.filter(u=>e.includes(u.id)),o=s.filter(u=>u.category==="competency"),c=s.filter(u=>u.category==="milestone");let d=`As a Level ${r} ${t?.name||"Explorer"} with ${a} experience points, `;return n===0?d+="this learner is just beginning their journey. With dedication and consistent effort, they are well-positioned to develop key competencies and achieve meaningful milestones in their learning path.":(d+=`this learner has demonstrated commitment to growth by earning ${n} badge${n!==1?"s":""}. `,c.length>0&&(d+=`Key achievements include ${c.map(u=>u.name).join(", ")}, showcasing dedication to completing meaningful learning objectives. `),o.length>0&&(d+=`Demonstrated strengths in ${o.map(u=>u.name.replace(" Badge","")).join(" and ")}, indicating well-developed skills in these areas. `),d+="This track record reflects a learner who engages thoughtfully with challenges and consistently strives for improvement."),d}function bs(){const e=pa(),[r,a]=l.useState("artifacts"),[t,n]=l.useState(!1),[s,o]=l.useState(!0),[c,d]=l.useState([]),{isAuthenticated:u,currentUser:f}=va();return l.useEffect(()=>{n(!0)},[]),l.useEffect(()=>{t&&!u&&e({to:"/signin"})},[t,u,e]),l.useEffect(()=>{async function m(){if(f){o(!0);try{const v=await ga({data:{userId:f.id}});v.success&&v.artifacts&&d(v.artifacts)}catch(v){console.error("Failed to load artifacts:",v)}finally{o(!1)}}}t&&f&&m()},[t,f]),!t||s?i.jsx("div",{className:"min-h-[calc(100vh-4rem)] bg-background flex items-center justify-center",children:i.jsx(ha,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):f?i.jsx("div",{className:"min-h-[calc(100vh-4rem)] bg-background",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[i.jsx(xa,{className:"w-8 h-8 text-cyan-500"}),"Growth Portfolio"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your learning journey, competencies, and achievements"})]}),i.jsxs(ya,{value:r,onValueChange:m=>a(m),children:[i.jsxs(ba,{className:"mb-8",children:[i.jsxs(xe,{value:"artifacts",className:"gap-2",children:[i.jsx(Bt,{className:"w-4 h-4"}),"Artifact Gallery"]}),i.jsxs(xe,{value:"competencies",className:"gap-2",children:[i.jsx(zt,{className:"w-4 h-4"}),"Competency Dashboard"]}),i.jsxs(xe,{value:"achievements",className:"gap-2",children:[i.jsx($t,{className:"w-4 h-4"}),"Achievement Archive"]})]}),i.jsx(ge,{value:"artifacts",children:i.jsx(Ut,{artifacts:c})}),i.jsx(ge,{value:"competencies",children:f.competencies?i.jsx(es,{competencies:f.competencies}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx("p",{children:"No competency data available yet."}),i.jsx("p",{className:"text-sm mt-2",children:"Complete some project sessions to see your competency scores."})]})}),i.jsx(ge,{value:"achievements",children:i.jsx(is,{earnedBadgeIds:f.earnedBadgeIds??[],level:f.level,xp:f.xp})})]})]})}):null}export{bs as component};
