import{r as a,j as e,e as S,U as R,m as b,af as f,ag as i,S as D,b as l,B as c,d as E,ak as B}from"./main-oBfCarfk.js";import{C as n,a as d,b as o,c as m,d as x}from"./card-C5iuDLNY.js";import{U as p}from"./user-plus-BpqqDICJ.js";import{A as h}from"./arrow-right-CbZwLqfA.js";function T(){const[t,N]=a.useState(null),[u,v]=a.useState([]),[w,y]=a.useState(!0),[j,g]=a.useState(null);a.useEffect(()=>{async function s(){try{const r=await B();r.success?(N(r.stats),v(r.recentUsers)):g(r.error)}catch{g("Failed to load dashboard data")}finally{y(!1)}}s()},[]);const U=s=>{switch(s){case"admin":return"bg-amber-500/10 text-amber-400 border-amber-500/20";case"creator":return"bg-purple-500/10 text-purple-400 border-purple-500/20";default:return"bg-cyan-500/10 text-cyan-400 border-cyan-500/20"}},C=s=>{switch(s){case"admin":return e.jsx(i,{className:"w-3 h-3"});case"creator":return e.jsx(f,{className:"w-3 h-3"});default:return e.jsx(b,{className:"w-3 h-3"})}};if(w)return e.jsx("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:e.jsx(S,{className:"w-8 h-8 animate-spin text-cyan-600"})});if(j)return e.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-xl p-6 text-center",children:e.jsx("p",{className:"text-destructive",children:j})});const A=[{label:"Total Users",value:t?.totalUsers||0,icon:R,color:"text-cyan-400",bg:"bg-cyan-500/10"},{label:"Explorers",value:t?.explorers||0,icon:b,color:"text-cyan-400",bg:"bg-cyan-500/10"},{label:"Creators",value:t?.creators||0,icon:f,color:"text-purple-400",bg:"bg-purple-500/10"},{label:"Admins",value:t?.admins||0,icon:i,color:"text-amber-400",bg:"bg-amber-500/10"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[e.jsx(D,{className:"w-8 h-8 text-cyan-500"}),"Admin Dashboard"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage users and system settings"})]}),e.jsx(l,{to:"/admin/users",children:e.jsxs(c,{className:"bg-cyan-600 hover:bg-cyan-700 text-white",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Add User"]})})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:A.map(s=>e.jsx(n,{className:"bg-card border-border",children:e.jsx(d,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s.label}),e.jsx("p",{className:`text-3xl font-bold mt-1 ${s.color}`,children:s.value})]}),e.jsx("div",{className:`w-12 h-12 rounded-xl ${s.bg} flex items-center justify-center`,children:e.jsx(s.icon,{className:`w-6 h-6 ${s.color}`})})]})})},s.label))}),e.jsxs(n,{className:"bg-card border-border",children:[e.jsxs(o,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(m,{className:"text-foreground",children:"Recent Users"}),e.jsx(x,{children:"Users registered in the last 7 days"})]}),e.jsx(l,{to:"/admin/users",children:e.jsxs(c,{variant:"ghost",size:"sm",className:"text-cyan-400 hover:text-cyan-300",children:["View All",e.jsx(h,{className:"w-4 h-4 ml-2"})]})})]}),e.jsx(d,{children:u.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No new users in the last 7 days"}):e.jsx("div",{className:"space-y-4",children:u.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center",children:e.jsx("span",{className:"text-foreground font-medium",children:s.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:s.role.map(r=>e.jsxs(E,{className:`${U(r)} gap-1`,children:[C(r),r]},r))}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(s.createdAt).toLocaleDateString()})]})]},s.id))})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(n,{className:"bg-card border-border",children:[e.jsxs(o,{children:[e.jsxs(m,{className:"text-foreground flex items-center gap-2",children:[e.jsx(p,{className:"w-5 h-5 text-cyan-600"}),"Create New User"]}),e.jsx(x,{children:"Add users and assign roles to the system"})]}),e.jsx(d,{children:e.jsx(l,{to:"/admin/users",children:e.jsxs(c,{variant:"outline",className:"w-full border-border text-muted-foreground hover:bg-muted",children:["Go to User Management",e.jsx(h,{className:"w-4 h-4 ml-2"})]})})})]}),e.jsxs(n,{className:"bg-card border-border",children:[e.jsxs(o,{children:[e.jsxs(m,{className:"text-foreground flex items-center gap-2",children:[e.jsx(i,{className:"w-5 h-5 text-amber-400"}),"Manage Roles"]}),e.jsx(x,{children:"Promote users to different roles"})]}),e.jsx(d,{children:e.jsx(l,{to:"/admin/users",children:e.jsxs(c,{variant:"outline",className:"w-full border-border text-muted-foreground hover:bg-muted",children:["Manage User Roles",e.jsx(h,{className:"w-4 h-4 ml-2"})]})})})]})]})]})}export{T as component};
