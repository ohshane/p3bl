import{c as At,ay as X,r as d,b$ as Sa,az as _a,a4 as Ie,j as i,e as fe,Y as We,Z as Fe,_ as Ke,k as ne,E as ht,X as xn,W as Rt,s as Bt,a as gn,B as ae,ax as Ee,d as vt,F as Wt,H as yn,J as bn,K as jn,M as wn,aa as Pn,bT as ka,ab as Aa,I as Ea,aW as Ft,aX as Kt,aY as Gt,aZ as Ht,a_ as Le,c0 as Ca,c1 as Yt,t as ce,bv as Ta,c2 as Ia,u as Da,c3 as La,bI as $a}from"./main-oBfCarfk.js";import{T as za,a as Ma,b as at,c as it}from"./tabs-DVTc6-Rb.js";import{C as Ra}from"./circle-alert-CGSAmO4T.js";import{C as Be}from"./circle-check-big-CihxHQxh.js";import{C as st,a as ot,b as Xt,c as Vt}from"./card-C5iuDLNY.js";import{aA as On,aB as Nn,aC as Y,aj as pt,aD as Ba,aE as be,aF as L,aG as Et,aH as Wa,N as we,aI as Fa,aJ as me,s as he,J as ie,ak as Ct,aK as Sn,al as Tt,r as W,ao as re,aL as ye,O as se,aM as Ka,aN as It,aO as Ut,aP as _n,L as $,aQ as Ga,aR as Ha,ab as Ge,aS as Ya,aT as kn,aU as Xa,a0 as Dt,Z as Pe,K as ue,S as De,aV as Va,aW as An,aX as Ua,aY as qa,aZ as Za,a_ as Ja,a$ as Qa,b0 as ei,b1 as ti,b2 as ri,b3 as ni,b4 as ai,X as je,b5 as ii,b6 as si,b7 as oi,a7 as Oe,b8 as li,b9 as En,ba as Cn,bb as qt,bc as Tn,bd as In,be as ci,bf as lt,bg as Dn,a1 as ui,a2 as di,a3 as fi,bh as mi,bi as hi,bj as Zt,bk as Jt,bl as Ln,bm as $n,bn as Qt,bo as U,bp as q,bq as zn,c as Lt,h as Mn,br as vi,bs as Rn,bt as Bn,bu as pi,aa as xi,bv as Wn,ac as gi,bw as yi,bx as bi,af as Fn,ag as ji,U as wi,by as Pi,ah as Oi,z as Kn,bz as er,am as Ni,an as Si,ap as _i,bA as Gn,bB as ki,bC as Ai,bD as Ei,bE as Hn,bF as Yn,bG as Ci,bH as Ti,bI as Ii,$ as Xn,bJ as Di,bK as Li,bL as $i,bM as zi,bN as Mi,bO as Ri,bP as Bi,bQ as Wi,ar as Fi,as as Ki,at as Gi,au as Hi,av as Yi,aw as Xi,az as ct,ax as Vi,ay as Ui}from"./CategoricalChart-D0Bd6IcH.js";import{Z as ut}from"./zap-BOZaWiPQ.js";import{B as qi}from"./bot-BcYbSF8r.js";import{S as Zi}from"./search-D4fCj5l3.js";import{S as Ji}from"./sparkles-DJS_NNQ4.js";import{E as Qi}from"./eye-BcuVz-Uk.js";const es=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ts=At("activity",es);const rs=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],tr=At("check-check",rs);const ns=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],xt=At("clipboard-check",ns);function Vn(e){this._context=e}Vn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function et(e){return new Vn(e)}function Un(e){return e[0]}function qn(e){return e[1]}function Zn(e,t){var r=Y(!0),n=null,a=et,s=null,o=On(l);e=typeof e=="function"?e:e===void 0?Un:Y(e),t=typeof t=="function"?t:t===void 0?qn:Y(t);function l(u){var c,h=(u=Nn(u)).length,f,m=!1,x;for(n==null&&(s=a(x=o())),c=0;c<=h;++c)!(c<h&&r(f=u[c],c,u))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(f,c,u),+t(f,c,u));if(x)return s=null,x+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Y(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Y(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Y(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(s=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=s=null:s=a(n=u),l):n},l}function $e(e,t,r){var n=null,a=Y(!0),s=null,o=et,l=null,u=On(c);e=typeof e=="function"?e:e===void 0?Un:Y(+e),t=typeof t=="function"?t:t===void 0?Y(0):Y(+t),r=typeof r=="function"?r:r===void 0?qn:Y(+r);function c(f){var m,x,v,p=(f=Nn(f)).length,g,y=!1,j,w=new Array(p),O=new Array(p);for(s==null&&(l=o(j=u())),m=0;m<=p;++m){if(!(m<p&&a(g=f[m],m,f))===y)if(y=!y)x=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=m-1;v>=x;--v)l.point(w[v],O[v]);l.lineEnd(),l.areaEnd()}y&&(w[m]=+e(g,m,f),O[m]=+t(g,m,f),l.point(n?+n(g,m,f):w[m],r?+r(g,m,f):O[m]))}if(j)return l=null,j+""||null}function h(){return Zn().defined(a).curve(o).context(s)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Y(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Y(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Y(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Y(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Y(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Y(+f),c):r},c.lineX0=c.lineY0=function(){return h().x(e).y(t)},c.lineY1=function(){return h().x(e).y(r)},c.lineX1=function(){return h().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Y(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),c):o},c.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),c):s},c}class Jn{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function as(e){return new Jn(e,!0)}function is(e){return new Jn(e,!1)}function He(){}function Ye(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Qn(e){this._context=e}Qn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ye(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ye(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ss(e){return new Qn(e)}function ea(e){this._context=e}ea.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ye(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function os(e){return new ea(e)}function ta(e){this._context=e}ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ye(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ls(e){return new ta(e)}function ra(e){this._context=e}ra.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function cs(e){return new ra(e)}function rr(e){return e<0?-1:1}function nr(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(rr(s)+rr(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function ar(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dt(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Xe(e){this._context=e}Xe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dt(this,this._t0,ar(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dt(this,ar(this,r=nr(this,e,t)),r);break;default:dt(this,this._t0,r=nr(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function na(e){this._context=new aa(e)}(na.prototype=Object.create(Xe.prototype)).point=function(e,t){Xe.prototype.point.call(this,t,e)};function aa(e){this._context=e}aa.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function us(e){return new Xe(e)}function ds(e){return new na(e)}function ia(e){this._context=e}ia.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ir(e),a=ir(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ir(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function fs(e){return new ia(e)}function tt(e,t){this._context=e,this._t=t}tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ms(e){return new tt(e,.5)}function hs(e){return new tt(e,0)}function vs(e){return new tt(e,1)}function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gt.apply(null,arguments)}function sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sr(Object(r),!0).forEach(function(n){ps(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ps(e,t,r){return(t=xs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xs(e){var t=gs(e,"string");return typeof t=="symbol"?t:t+""}function gs(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ys(e){return Array.isArray(e)&&be(e[0])&&be(e[1])?e.join(" ~ "):e}var ge={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},bs=e=>{var{separator:t=ge.separator,contentStyle:r,itemStyle:n,labelStyle:a=ge.labelStyle,payload:s,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:c,label:h,labelFormatter:f,accessibilityLayer:m=ge.accessibilityLayer}=e,x=()=>{if(s&&s.length){var S={padding:0,margin:0},b=(l?Ba(s,l):s).map((N,_)=>{if(N.type==="none")return null;var A=N.formatter||o||ys,{value:M,name:I}=N,z=M,H=I;if(A){var C=A(M,I,N,_,s);if(Array.isArray(C))[z,H]=C;else if(C!=null)z=C;else return null}var R=Ne(Ne({},ge.itemStyle),{},{color:N.color||ge.itemStyle.color},n);return d.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:R},be(H)?d.createElement("span",{className:"recharts-tooltip-item-name"},H):null,be(H)?d.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,d.createElement("span",{className:"recharts-tooltip-item-value"},z),d.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return d.createElement("ul",{className:"recharts-tooltip-item-list",style:S},b)}return null},v=Ne(Ne({},ge.contentStyle),r),p=Ne({margin:0},a),g=!pt(h),y=g?h:"",j=X("recharts-default-tooltip",u),w=X("recharts-tooltip-label",c);g&&f&&s!==void 0&&s!==null&&(y=f(h,s));var O=m?{role:"status","aria-live":"assertive"}:{};return d.createElement("div",gt({className:j,style:v},O),d.createElement("p",{className:w,style:p},d.isValidElement(y)?y:"".concat(y)),x())},Se="recharts-tooltip-wrapper",js={visibility:"hidden"};function ws(e){var{coordinate:t,translateX:r,translateY:n}=e;return X(Se,{["".concat(Se,"-right")]:L(r)&&t&&L(t.x)&&r>=t.x,["".concat(Se,"-left")]:L(r)&&t&&L(t.x)&&r<t.x,["".concat(Se,"-bottom")]:L(n)&&t&&L(t.y)&&n>=t.y,["".concat(Se,"-top")]:L(n)&&t&&L(t.y)&&n<t.y})}function or(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:s,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:c}=e;if(s&&L(s[n]))return s[n];var h=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?h:f;var m=u[n];if(m==null)return 0;if(o[n]){var x=h,v=m;return x<v?Math.max(f,m):Math.max(h,m)}if(c==null)return 0;var p=f+l,g=m+c;return p>g?Math.max(h,m):Math.max(f,m)}function Ps(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Os(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:s,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:c}=e,h,f,m;return l.height>0&&l.width>0&&r?(f=or({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=or({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),h=Ps({translateX:f,translateY:m,useTranslate3d:u})):h=js,{cssProperties:h,cssClasses:ws({translateX:f,translateY:m,coordinate:r})}}function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lr(Object(r),!0).forEach(function(n){yt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yt(e,t,r){return(t=Ns(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ns(e){var t=Ss(e,"string");return typeof t=="symbol"?t:t+""}function Ss(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _s extends d.PureComponent{constructor(){super(...arguments),yt(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),yt(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:o,hasPayload:l,isAnimationActive:u,offset:c,position:h,reverseDirection:f,useTranslate3d:m,viewBox:x,wrapperStyle:v,lastBoundingBox:p,innerRef:g,hasPortalFromProps:y}=this.props,j=typeof c=="number"?c:c.x,w=typeof c=="number"?c:c.y,{cssClasses:O,cssProperties:S}=Os({allowEscapeViewBox:r,coordinate:o,offsetLeft:j,offsetTop:w,position:h,reverseDirection:f,tooltipBox:{height:p.height,width:p.width},useTranslate3d:m,viewBox:x}),b=y?{}:ze(ze({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=ze(ze({},b),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},v);return d.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:N,ref:g},s)}}function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bt.apply(null,arguments)}function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cr(Object(r),!0).forEach(function(n){ks(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ks(e,t,r){return(t=As(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function As(e){var t=Es(e,"string");return typeof t=="symbol"?t:t+""}function Es(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dr={curveBasisClosed:os,curveBasisOpen:ls,curveBasis:ss,curveBumpX:as,curveBumpY:is,curveLinearClosed:cs,curveLinear:et,curveMonotoneX:us,curveMonotoneY:ds,curveNatural:fs,curveStep:ms,curveStepAfter:vs,curveStepBefore:hs},Ve=e=>me(e.x)&&me(e.y),fr=e=>e.base!=null&&Ve(e.base)&&Ve(e),_e=e=>e.x,ke=e=>e.y,Cs=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Fa(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=dr["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return dr[r]||et},mr={connectNulls:!1,type:"linear"},Ts=e=>{var{type:t=mr.type,points:r=[],baseLine:n,layout:a,connectNulls:s=mr.connectNulls}=e,o=Cs(t,a),l=s?r.filter(Ve):r;if(Array.isArray(n)){var u,c=r.map((v,p)=>ur(ur({},v),{},{base:n[p]}));a==="vertical"?u=$e().y(ke).x1(_e).x0(v=>v.base.x):u=$e().x(_e).y1(ke).y0(v=>v.base.y);var h=u.defined(fr).curve(o),f=s?c.filter(fr):c;return h(f)}var m;a==="vertical"&&L(n)?m=$e().y(ke).x1(_e).x0(n):L(n)?m=$e().x(_e).y1(ke).y0(n):m=Zn().x(_e).y(ke);var x=m.defined(Ve).curve(o);return x(l)},sa=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=Et();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=r&&r.length?Ts(o):n;return d.createElement("path",bt({},we(e),Wa(e),{className:X("recharts-curve",t),d:l===null?void 0:l,ref:a}))},Is=["x","y","top","left","width","height","className"];function jt(){return jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jt.apply(null,arguments)}function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hr(Object(r),!0).forEach(function(n){Ls(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ls(e,t,r){return(t=$s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $s(e){var t=zs(e,"string");return typeof t=="symbol"?t:t+""}function zs(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ms(e,t){if(e==null)return{};var r,n,a=Rs(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rs(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bs=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),Ws=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:o=0,className:l}=e,u=Ms(e,Is),c=Ds({x:t,y:r,top:n,left:a,width:s,height:o},u);return!L(t)||!L(r)||!L(s)||!L(o)||!L(n)||!L(a)?null:d.createElement("path",jt({},he(c),{className:X("recharts-cross",l),d:Bs(t,r,s,o,n,a)}))};function Fs(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}var Ks=["radius"],Gs=["radius"],vr,pr,xr,gr,yr,br,jr,wr,Pr,Or;function Nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nr(Object(r),!0).forEach(function(n){Hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hs(e,t,r){return(t=Ys(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ys(e){var t=Xs(e,"string");return typeof t=="symbol"?t:t+""}function Xs(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ue.apply(null,arguments)}function _r(e,t){if(e==null)return{};var r,n,a=Vs(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vs(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kr=(e,t,r,n,a)=>{var s=ye(r),o=ye(n),l=Math.min(Math.abs(s)/2,Math.abs(o)/2),u=o>=0?1:-1,c=s>=0?1:-1,h=o>=0&&s>=0||o<0&&s<0?1:0,f;if(l>0&&Array.isArray(a)){for(var m=[0,0,0,0],x=0,v=4;x<v;x++){var p,g=(p=a[x])!==null&&p!==void 0?p:0;m[x]=g>l?l:g}f=W(vr||(vr=oe(["M",",",""])),e,t+u*m[0]),m[0]>0&&(f+=W(pr||(pr=oe(["A ",",",",0,0,",",",",",""])),m[0],m[0],h,e+c*m[0],t)),f+=W(xr||(xr=oe(["L ",",",""])),e+r-c*m[1],t),m[1]>0&&(f+=W(gr||(gr=oe(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],h,e+r,t+u*m[1])),f+=W(yr||(yr=oe(["L ",",",""])),e+r,t+n-u*m[2]),m[2]>0&&(f+=W(br||(br=oe(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],h,e+r-c*m[2],t+n)),f+=W(jr||(jr=oe(["L ",",",""])),e+c*m[3],t+n),m[3]>0&&(f+=W(wr||(wr=oe(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],h,e,t+n-u*m[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var y=Math.min(l,a);f=W(Pr||(Pr=oe(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*y,y,y,h,e+c*y,t,e+r-c*y,t,y,y,h,e+r,t+u*y,e+r,t+n-u*y,y,y,h,e+r-c*y,t+n,e+c*y,t+n,y,y,h,e,t+n-u*y)}else f=W(Or||(Or=oe(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},Ar={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oa=e=>{var t=ie(e,Ar),r=d.useRef(null),[n,a]=d.useState(-1);d.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&a(D)}catch{}},[]);var{x:s,y:o,width:l,height:u,radius:c,className:h}=t,{animationEasing:f,animationDuration:m,animationBegin:x,isAnimationActive:v,isUpdateAnimationActive:p}=t,g=d.useRef(l),y=d.useRef(u),j=d.useRef(s),w=d.useRef(o),O=d.useMemo(()=>({x:s,y:o,width:l,height:u,radius:c}),[s,o,l,u,c]),S=Ct(O,"rectangle-");if(s!==+s||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var b=X("recharts-rectangle",h);if(!p){var N=he(t),{radius:_}=N,A=_r(N,Ks);return d.createElement("path",Ue({},A,{x:ye(s),y:ye(o),width:ye(l),height:ye(u),radius:typeof c=="number"?c:void 0,className:b,d:kr(s,o,l,u,c)}))}var M=g.current,I=y.current,z=j.current,H=w.current,C="0px ".concat(n===-1?1:n,"px"),R="".concat(n,"px 0px"),V=Sn(["strokeDasharray"],m,typeof f=="string"?f:Ar.animationEasing);return d.createElement(Tt,{animationId:S,key:S,canBegin:n>0,duration:m,easing:f,isActive:p,begin:x},D=>{var F=re(M,l,D),E=re(I,u,D),Q=re(z,s,D),G=re(H,o,D);r.current&&(g.current=F,y.current=E,j.current=Q,w.current=G);var te;v?D>0?te={transition:V,strokeDasharray:R}:te={strokeDasharray:C}:te={strokeDasharray:R};var P=he(t),{radius:k}=P,T=_r(P,Gs);return d.createElement("path",Ue({},T,{radius:typeof c=="number"?c:void 0,className:b,d:kr(Q,G,F,E,c),ref:r,style:Sr(Sr({},te),t.style)}))})};function la(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,o=se(t,r,n,a),l=se(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var Er,Cr,Tr,Ir,Dr,Lr,$r;function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wt.apply(null,arguments)}function ve(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Us=(e,t)=>{var r=It(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Me=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,c=l*(o?1:-1)+n,h=Math.asin(l/c)/Ut,f=u?a:a+s*h,m=se(t,r,c,f),x=se(t,r,n,f),v=u?a-s*h:a,p=se(t,r,c*Math.cos(h*Ut),v);return{center:m,circleTangency:x,lineTangency:p,theta:h}},ca=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:o}=e,l=Us(s,o),u=s+l,c=se(t,r,a,s),h=se(t,r,a,u),f=W(Er||(Er=ve(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,a,a,+(Math.abs(l)>180),+(s>u),h.x,h.y);if(n>0){var m=se(t,r,n,s),x=se(t,r,n,u);f+=W(Cr||(Cr=ve(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,n,n,+(Math.abs(l)>180),+(s<=u),m.x,m.y)}else f+=W(Tr||(Tr=ve(["L ",","," Z"])),t,r);return f},qs=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}=e,h=It(c-u),{circleTangency:f,lineTangency:m,theta:x}=Me({cx:t,cy:r,radius:a,angle:u,sign:h,cornerRadius:s,cornerIsExternal:l}),{circleTangency:v,lineTangency:p,theta:g}=Me({cx:t,cy:r,radius:a,angle:c,sign:-h,cornerRadius:s,cornerIsExternal:l}),y=l?Math.abs(u-c):Math.abs(u-c)-x-g;if(y<0)return o?W(Ir||(Ir=ve(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,s,s,s*2,s,s,-s*2):ca({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:c});var j=W(Dr||(Dr=ve(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,s,s,+(h<0),f.x,f.y,a,a,+(y>180),+(h<0),v.x,v.y,s,s,+(h<0),p.x,p.y);if(n>0){var{circleTangency:w,lineTangency:O,theta:S}=Me({cx:t,cy:r,radius:n,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:b,lineTangency:N,theta:_}=Me({cx:t,cy:r,radius:n,angle:c,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=l?Math.abs(u-c):Math.abs(u-c)-S-_;if(A<0&&s===0)return"".concat(j,"L").concat(t,",").concat(r,"Z");j+=W(Lr||(Lr=ve(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(h<0),b.x,b.y,n,n,+(A>180),+(h>0),w.x,w.y,s,s,+(h<0),O.x,O.y)}else j+=W($r||($r=ve(["L",",","Z"])),t,r);return j},Zs={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ua=e=>{var t=ie(e,Zs),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:h,className:f}=t;if(s<a||c===h)return null;var m=X("recharts-sector",f),x=s-a,v=Ka(o,x,0,!0),p;return v>0&&Math.abs(c-h)<360?p=qs({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(v,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:h}):p=ca({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:c,endAngle:h}),d.createElement("path",wt({},he(t),{className:m,d:p}))};function Js(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(_n(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:o,angle:l}=t,u=se(n,a,s,l),c=se(n,a,o,l);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return la(t)}}function zr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zr(Object(r),!0).forEach(function(n){Qs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qs(e,t,r){return(t=eo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eo(e){var t=to(e,"string");return typeof t=="symbol"?t:t+""}function to(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ro=()=>$(Ya),no=()=>{var e=ro(),t=$(Ga),r=$(Ha);return!e||!r?Ge(void 0,t):Ge(Mr(Mr({},e),{},{scale:r}),t)};function Pt(){return Pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pt.apply(null,arguments)}function Rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rr(Object(r),!0).forEach(function(n){ao(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ao(e,t,r){return(t=io(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function io(e){var t=so(e,"string");return typeof t=="symbol"?t:t+""}function so(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oo(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return d.isValidElement(t)?d.cloneElement(t,n):d.createElement(r,n)}function lo(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:c,chartName:h}=e,f=r,m=n,x=a;if(!u||!f||h!=="ScatterChart"&&c!=="axis")return null;var v,p,g;if(h==="ScatterChart")v=f,p=Ws,g=ue.cursorLine;else if(h==="BarChart")v=Fs(l,f,s,o),p=oa,g=ue.cursorRectangle;else if(l==="radial"&&_n(f)){var{cx:y,cy:j,radius:w,startAngle:O,endAngle:S}=la(f);v={cx:y,cy:j,startAngle:O,endAngle:S,innerRadius:w,outerRadius:w},p=ua,g=ue.cursorLine}else v={points:Js(l,f,s)},p=sa,g=ue.cursorLine;var b=typeof u=="object"&&"className"in u?u.className:void 0,N=Re(Re(Re(Re({stroke:"#ccc",pointerEvents:"none"},s),v),Dt(u)),{},{payload:m,payloadIndex:x,className:X("recharts-tooltip-cursor",b)});return d.createElement(Pe,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:g},d.createElement(oo,{cursor:u,cursorComp:p,cursorProps:N}))}function co(e){var t=no(),r=kn(),n=Et(),a=Xa();return t==null||r==null||n==null||a==null?null:d.createElement(lo,Pt({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}function Br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Br(Object(r),!0).forEach(function(n){uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Br(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uo(e,t,r){return(t=fo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fo(e){var t=mo(e,"string");return typeof t=="symbol"?t:t+""}function mo(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ho(e){return e.dataKey}function vo(e,t){return d.isValidElement(e)?d.cloneElement(e,t):typeof e=="function"?d.createElement(e,t):d.createElement(bs,t)}var Fr=[],po={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xo(e){var t,r,n=ie(e,po),{active:a,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:u,filterNull:c,isAnimationActive:h,offset:f,payloadUniqBy:m,position:x,reverseDirection:v,useTranslate3d:p,wrapperStyle:g,cursor:y,shared:j,trigger:w,defaultIndex:O,portal:S,axisId:b}=n,N=De(),_=typeof O=="number"?String(O):O;d.useEffect(()=>{N(Va({shared:j,trigger:w,axisId:b,active:a,defaultIndex:_}))},[N,j,w,b,a,_]);var A=An(),M=Ua(),I=qa(j),{activeIndex:z,isActive:H}=(t=$(K=>ti(K,I,w,_)))!==null&&t!==void 0?t:{},C=$(K=>ri(K,I,w,_)),R=$(K=>ai(K,I,w,_)),V=$(K=>ni(K,I,w,_)),D=C,F=Za(),E=(r=a??H)!==null&&r!==void 0?r:!1,[Q,G]=Ja([D,E]),te=I==="axis"?R:void 0;Qa(I,w,V,te,z,E);var P=S??F;if(P==null||A==null||I==null)return null;var k=D??Fr;E||(k=Fr),c&&k.length&&(k=ei(k.filter(K=>K.value!=null&&(K.hide!==!0||n.includeHidden)),m,ho));var T=k.length>0,ee=d.createElement(_s,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:E,coordinate:V,hasPayload:T,offset:f,position:x,reverseDirection:v,useTranslate3d:p,viewBox:A,wrapperStyle:g,lastBoundingBox:Q,innerRef:G,hasPortalFromProps:!!S},vo(u,Wr(Wr({},n),{},{payload:k,label:te,active:E,activeIndex:z,coordinate:V,accessibilityLayer:M})));return d.createElement(d.Fragment,null,Sa.createPortal(ee,P),E&&d.createElement(co,{cursor:y,tooltipEventType:I,coordinate:V,payload:k,index:z}))}var ft={},Kr;function go(){return Kr||(Kr=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(ft)),ft}var mt,Gr;function yo(){return Gr||(Gr=1,mt=go().isPlainObject),mt}var bo=yo();const jo=_a(bo);var Hr,Yr,Xr,Vr,Ur;function qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qr(Object(r),!0).forEach(function(n){wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wo(e,t,r){return(t=Po(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Po(e){var t=Oo(e,"string");return typeof t=="symbol"?t:t+""}function Oo(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qe.apply(null,arguments)}function Ae(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Jr=(e,t,r,n,a)=>{var s=r-n,o;return o=W(Hr||(Hr=Ae(["M ",",",""])),e,t),o+=W(Yr||(Yr=Ae(["L ",",",""])),e+r,t),o+=W(Xr||(Xr=Ae(["L ",",",""])),e+r-s/2,t+a),o+=W(Vr||(Vr=Ae(["L ",",",""])),e+r-s/2-n,t+a),o+=W(Ur||(Ur=Ae(["L ",","," Z"])),e,t),o},No={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},So=e=>{var t=ie(e,No),{x:r,y:n,upperWidth:a,lowerWidth:s,height:o,className:l}=t,{animationEasing:u,animationDuration:c,animationBegin:h,isUpdateAnimationActive:f}=t,m=d.useRef(null),[x,v]=d.useState(-1),p=d.useRef(a),g=d.useRef(s),y=d.useRef(o),j=d.useRef(r),w=d.useRef(n),O=Ct(e,"trapezoid-");if(d.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var C=m.current.getTotalLength();C&&v(C)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||o!==+o||a===0&&s===0||o===0)return null;var S=X("recharts-trapezoid",l);if(!f)return d.createElement("g",null,d.createElement("path",qe({},he(t),{className:S,d:Jr(r,n,a,s,o)})));var b=p.current,N=g.current,_=y.current,A=j.current,M=w.current,I="0px ".concat(x===-1?1:x,"px"),z="".concat(x,"px 0px"),H=Sn(["strokeDasharray"],c,u);return d.createElement(Tt,{animationId:O,key:O,canBegin:x>0,duration:c,easing:u,isActive:f,begin:h},C=>{var R=re(b,a,C),V=re(N,s,C),D=re(_,o,C),F=re(A,r,C),E=re(M,n,C);m.current&&(p.current=R,g.current=V,y.current=D,j.current=F,w.current=E);var Q=C>0?{transition:H,strokeDasharray:z}:{strokeDasharray:I};return d.createElement("path",qe({},he(t),{className:S,d:Jr(F,E,R,V,D),ref:m,style:Zr(Zr({},Q),t.style)}))})},_o=["option","shapeType","activeClassName"];function ko(e,t){if(e==null)return{};var r,n,a=Ao(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ao(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qr(Object(r),!0).forEach(function(n){Eo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eo(e,t,r){return(t=Co(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Co(e){var t=To(e,"string");return typeof t=="symbol"?t:t+""}function To(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Io(e,t){return Ze(Ze({},t),e)}function Do(e,t){return e==="symbols"}function en(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return d.createElement(oa,r);case"trapezoid":return d.createElement(So,r);case"sector":return d.createElement(ua,r);case"symbols":if(Do(t))return d.createElement(ii,r);break;case"curve":return d.createElement(sa,r);default:return null}}function Lo(e){return d.isValidElement(e)?e.props:e}function $o(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=ko(e,_o),s;if(d.isValidElement(t))s=d.cloneElement(t,Ze(Ze({},a),Lo(t)));else if(typeof t=="function")s=t(a,a.index);else if(jo(t)&&typeof t!="boolean"){var o=Io(t,a);s=d.createElement(en,{shapeType:r,elementProps:o})}else{var l=a;s=d.createElement(en,{shapeType:r,elementProps:l})}return a.isActive?d.createElement(je,{className:n},s):s}var zo=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},Mo=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return zo({x:t,y:r},{x:n,y:a})};function Ro(e){return(e%180+180)%180}var Bo=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Ro(a),o=s*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)};class Wo{constructor(t){var{x:r,y:n}=t;this.xAxisScale=r,this.yAxisScale=n}map(t,r){var n,a,{position:s}=r;return{x:(n=this.xAxisScale.map(t.x,{position:s}))!==null&&n!==void 0?n:0,y:(a=this.yAxisScale.map(t.y,{position:s}))!==null&&a!==void 0?a:0}}mapWithFallback(t,r){var n,a,{position:s,fallback:o}=r,l,u;return o==="rangeMin"?l=this.yAxisScale.rangeMin():o==="rangeMax"?l=this.yAxisScale.rangeMax():l=0,o==="rangeMin"?u=this.xAxisScale.rangeMin():o==="rangeMax"?u=this.xAxisScale.rangeMax():u=0,{x:(n=this.xAxisScale.map(t.x,{position:s}))!==null&&n!==void 0?n:u,y:(a=this.yAxisScale.map(t.y,{position:s}))!==null&&a!==void 0?a:l}}isInRange(t){var{x:r,y:n}=t,a=r==null||this.xAxisScale.isInRange(r),s=n==null||this.yAxisScale.isInRange(n);return a&&s}}function tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tn(Object(r),!0).forEach(function(n){Fo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fo(e,t,r){return(t=Ko(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ko(e){var t=Go(e,"string");return typeof t=="symbol"?t:t+""}function Go(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Je.apply(null,arguments)}var Ho=(e,t)=>{var r;if(d.isValidElement(e))r=d.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!me(t.x1)||!me(t.y1)||!me(t.x2)||!me(t.y2))return null;r=d.createElement("line",Je({},t,{className:"recharts-reference-line-line"}))}return r},Yo=(e,t,r,n,a,s)=>{var{x:o,width:l}=s,u=a.map(e,{position:r});if(!me(u)||t==="discard"&&!a.isInRange(u))return null;var c=[{x:o+l,y:u},{x:o,y:u}];return n==="left"?c.reverse():c},Xo=(e,t,r,n,a,s)=>{var{y:o,height:l}=s,u=a.map(e,{position:r});if(!me(u)||t==="discard"&&!a.isInRange(u))return null;var c=[{x:u,y:o+l},{x:u,y:o}];return n==="top"?c.reverse():c},Vo=(e,t,r,n)=>{var a=[n.mapWithFallback(e[0],{position:r,fallback:"rangeMin"}),n.mapWithFallback(e[1],{position:r,fallback:"rangeMax"})];return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},Uo=(e,t,r,n,a,s,o)=>{var{x:l,y:u,segment:c,ifOverflow:h}=o,f=be(l),m=be(u);return m?Yo(u,h,n,s,t,r):f?Xo(l,h,n,a,e,r):c!=null&&c.length===2?Vo(c,h,n,new Wo({x:e,y:t})):null};function qo(e){var t=De();return d.useEffect(()=>(t(si(e)),()=>{t(oi(e))})),null}function Zo(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,o=Oe(),l=li(),u=$(N=>En(N,t)),c=$(N=>Cn(N,r)),h=$(N=>qt(N,"xAxis",t,o)),f=$(N=>qt(N,"yAxis",r,o)),m=An();if(!l||!m||u==null||c==null||h==null||f==null)return null;var x=Uo(h,f,m,e.position,u.orientation,c.orientation,e);if(!x)return null;var v=x[0],p=x[1];if(v==null||p==null)return null;var{x:g,y}=v,{x:j,y:w}=p,O=s==="hidden"?"url(#".concat(l,")"):void 0,S=rn(rn({clipPath:O},he(e)),{},{x1:g,y1:y,x2:j,y2:w}),b=Mo({x1:g,y1:y,x2:j,y2:w});return d.createElement(Pe,{zIndex:e.zIndex},d.createElement(je,{className:X("recharts-reference-line",a)},Ho(n,S),d.createElement(Tn,Je({},b,{lowerWidth:b.width,upperWidth:b.width}),d.createElement(In,{label:e.label}),e.children)))}var Jo={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:ue.line};function da(e){var t=ie(e,Jo);return d.createElement(d.Fragment,null,d.createElement(qo,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),d.createElement(Zo,t))}da.displayName="ReferenceLine";function fa(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function Qo(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Bo(n,r)}function el(e,t,r){var n=r==="width",{x:a,y:s,width:o,height:l}=e;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Ce(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function tl(e,t){return fa(e,t+1)}function rl(e,t,r,n,a){for(var s=(n||[]).slice(),{start:o,end:l}=t,u=0,c=1,h=o,f=function(){var v=n?.[u];if(v===void 0)return{v:fa(n,c)};var p=u,g,y=()=>(g===void 0&&(g=r(v,p)),g),j=v.coordinate,w=u===0||Ce(e,j,y,h,l);w||(u=0,h=o,c+=1),w&&(h=j+e*(y()/2+a),u+=c)},m;c<=s.length;)if(m=f(),m)return m.v;return[]}function nl(e,t,r,n,a){var s=(n||[]).slice(),o=s.length;if(o===0)return[];for(var{start:l,end:u}=t,c=1;c<=o;c++){for(var h=(o-1)%c,f=l,m=!0,x=function(){var O=n[p];if(O==null)return 0;var S=p,b,N=()=>(b===void 0&&(b=r(O,S)),b),_=O.coordinate,A=p===h||Ce(e,_,N,f,u);if(!A)return m=!1,1;A&&(f=_+e*(N()/2+a))},v,p=h;p<o&&(v=x(),!(v!==0&&v===1));p+=c);if(m){for(var g=[],y=h;y<o;y+=c){var j=n[y];j!=null&&g.push(j)}return g}}return[]}function nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nn(Object(r),!0).forEach(function(n){al(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function al(e,t,r){return(t=il(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function il(e){var t=sl(e,"string");return typeof t=="symbol"?t:t+""}function sl(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ol(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,{start:l}=t,{end:u}=t,c=function(m){var x=s[m];if(x==null)return 1;var v=x,p,g=()=>(p===void 0&&(p=r(x,m)),p);if(m===o-1){var y=e*(v.coordinate+e*g()/2-u);s[m]=v=Z(Z({},v),{},{tickCoord:y>0?v.coordinate-y*e:v.coordinate})}else s[m]=v=Z(Z({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var j=Ce(e,v.tickCoord,g,l,u);j&&(u=v.tickCoord-e*(g()/2+a),s[m]=Z(Z({},v),{},{isShow:!0}))}},h=o-1;h>=0;h--)c(h);return s}function ll(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,{start:u,end:c}=t;if(s){var h=n[l-1];if(h!=null){var f=r(h,l-1),m=e*(h.coordinate+e*f/2-c);if(o[l-1]=h=Z(Z({},h),{},{tickCoord:m>0?h.coordinate-m*e:h.coordinate}),h.tickCoord!=null){var x=Ce(e,h.tickCoord,()=>f,u,c);x&&(c=h.tickCoord-e*(f/2+a),o[l-1]=Z(Z({},h),{},{isShow:!0}))}}}for(var v=s?l-1:l,p=function(j){var w=o[j];if(w==null)return 1;var O=w,S,b=()=>(S===void 0&&(S=r(w,j)),S);if(j===0){var N=e*(O.coordinate-e*b()/2-u);o[j]=O=Z(Z({},O),{},{tickCoord:N<0?O.coordinate-N*e:O.coordinate})}else o[j]=O=Z(Z({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var _=Ce(e,O.tickCoord,b,u,c);_&&(u=O.tickCoord+e*(b()/2+a),o[j]=Z(Z({},O),{},{isShow:!0}))}},g=0;g<v;g++)p(g);return o}function $t(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:u,tickFormatter:c,unit:h,angle:f}=e;if(!a||!a.length||!n)return[];if(L(u)||ci.isSsr){var m;return(m=tl(a,L(u)?u:0))!==null&&m!==void 0?m:[]}var x=[],v=l==="top"||l==="bottom"?"width":"height",p=h&&v==="width"?lt(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(S,b)=>{var N=typeof c=="function"?c(S.value,b):S.value;return v==="width"?Qo(lt(N,{fontSize:t,letterSpacing:r}),p,f):lt(N,{fontSize:t,letterSpacing:r})[v]},y=a[0],j=a[1],w=a.length>=2&&y!=null&&j!=null?It(j.coordinate-y.coordinate):1,O=el(s,w,v);return u==="equidistantPreserveStart"?rl(w,O,g,a,o):u==="equidistantPreserveEnd"?nl(w,O,g,a,o):(u==="preserveStart"||u==="preserveStartEnd"?x=ll(w,O,g,a,o,u==="preserveStartEnd"):x=ol(w,O,g,a,o),x.filter(S=>S.isShow))}var cl=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var f=h.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,u=a+s,c=o+u+l+(r?n:0);return Math.round(c)}return 0},ul=["axisLine","width","height","className","hide","ticks","axisType"];function dl(e,t){if(e==null)return{};var r,n,a=fl(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fl(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xe.apply(null,arguments)}function an(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?an(Object(r),!0).forEach(function(n){ml(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):an(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ml(e,t,r){return(t=hl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hl(e){var t=vl(e,"string");return typeof t=="symbol"?t:t+""}function vl(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var de={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ue.axis};function pl(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var c=B(B(B({},u),we(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!o||s==="bottom"&&o);c=B(B({},c),{},{x1:t,y1:r+h*a,x2:t+n,y2:r+h*a})}else{var f=+(s==="left"&&!o||s==="right"&&o);c=B(B({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return d.createElement("line",xe({},c,{className:X("recharts-cartesian-axis-line",Dn(l,"className"))}))}function xl(e,t,r,n,a,s,o,l,u){var c,h,f,m,x,v,p=l?-1:1,g=e.tickSize||o,y=L(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=h=e.coordinate,m=r+ +!l*a,f=m-p*g,v=f-p*u,x=y;break;case"left":f=m=e.coordinate,h=t+ +!l*n,c=h-p*g,x=c-p*u,v=y;break;case"right":f=m=e.coordinate,h=t+ +l*n,c=h+p*g,x=c+p*u,v=y;break;default:c=h=e.coordinate,m=r+ +l*a,f=m+p*g,v=f+p*u,x=y;break}return{line:{x1:c,y1:f,x2:h,y2:m},tick:{x,y:v}}}function gl(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function yl(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function bl(e){var{option:t,tickProps:r,value:n}=e,a,s=X(r.className,"recharts-cartesian-axis-tick-value");if(d.isValidElement(t))a=d.cloneElement(t,B(B({},r),{},{className:s}));else if(typeof t=="function")a=t(B(B({},r),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=X(o,di(t))),a=d.createElement(fi,xe({},r,{className:o}),n)}return a}var jl=d.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:o,unit:l,padding:u,tickTextProps:c,orientation:h,mirror:f,x:m,y:x,width:v,height:p,tickSize:g,tickMargin:y,fontSize:j,letterSpacing:w,getTicksConfig:O,events:S,axisType:b}=e,N=$t(B(B({},O),{},{ticks:r}),j,w),_=gl(h,f),A=yl(h,f),M=we(O),I=Dt(n),z={};typeof a=="object"&&(z=a);var H=B(B({},M),{},{fill:"none"},z),C=N.map(D=>B({entry:D},xl(D,m,x,v,p,h,g,f,y))),R=C.map(D=>{var{entry:F,line:E}=D;return d.createElement(je,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},a&&d.createElement("line",xe({},H,E,{className:X("recharts-cartesian-axis-tick-line",Dn(a,"className"))})))}),V=C.map((D,F)=>{var E,Q,{entry:G,tick:te}=D,P=B(B(B(B({verticalAnchor:A},M),{},{textAnchor:_,stroke:"none",fill:s},te),{},{index:F,payload:G,visibleTicksCount:N.length,tickFormatter:o,padding:u},c),{},{angle:(E=(Q=c?.angle)!==null&&Q!==void 0?Q:M.angle)!==null&&E!==void 0?E:0}),k=B(B({},P),I);return d.createElement(je,xe({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},ui(S,G,F)),n&&d.createElement(bl,{option:n,tickProps:k,value:"".concat(typeof o=="function"?o(G.value,F):G.value).concat(l||"")}))});return d.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(b,"-ticks")},V.length>0&&d.createElement(Pe,{zIndex:ue.label},d.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(b,"-tick-labels"),ref:t},V)),R.length>0&&d.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(b,"-tick-lines")},R))}),wl=d.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:o,ticks:l,axisType:u}=e,c=dl(e,ul),[h,f]=d.useState(""),[m,x]=d.useState(""),v=d.useRef(null);d.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return cl({ticks:v.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=d.useCallback(g=>{if(g){var y=g.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=y;var j=y[0];if(j){var w=window.getComputedStyle(j),O=w.fontSize,S=w.letterSpacing;(O!==h||S!==m)&&(f(O),x(S))}}},[h,m]);return o||n!=null&&n<=0||a!=null&&a<=0?null:d.createElement(Pe,{zIndex:e.zIndex},d.createElement(je,{className:X("recharts-cartesian-axis",s)},d.createElement(pl,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:we(e)}),d.createElement(jl,{ref:p,axisType:u,events:c,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),d.createElement(Tn,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},d.createElement(In,{label:e.label,labelRef:e.labelRef}),e.children)))}),zt=d.forwardRef((e,t)=>{var r=ie(e,de);return d.createElement(wl,xe({},r,{ref:t}))});zt.displayName="CartesianAxis";var Pl=["x1","y1","x2","y2","key"],Ol=["offset"],Nl=["xAxisId","yAxisId"],Sl=["xAxisId","yAxisId"];function sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sn(Object(r),!0).forEach(function(n){_l(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _l(e,t,r){return(t=kl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kl(e){var t=Al(e,"string");return typeof t=="symbol"?t:t+""}function Al(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pe.apply(null,arguments)}function Qe(e,t){if(e==null)return{};var r,n,a=El(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function El(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cl=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:o,ry:l}=e;return d.createElement("rect",{x:n,y:a,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ma(e){var{option:t,lineItemProps:r}=e,n;if(d.isValidElement(t))n=d.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:o,x2:l,y2:u,key:c}=r,h=Qe(r,Pl),f=(a=we(h))!==null&&a!==void 0?a:{},{offset:m}=f,x=Qe(f,Ol);n=d.createElement("line",pe({},x,{x1:s,y1:o,x2:l,y2:u,fill:"none",key:c}))}return n}function Tl(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=Qe(e,Nl),u=a.map((c,h)=>{var f=J(J({},l),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(h),index:h});return d.createElement(ma,{key:"line-".concat(h),option:n,lineItemProps:f})});return d.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Il(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=Qe(e,Sl),u=a.map((c,h)=>{var f=J(J({},l),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(h),index:h});return d.createElement(ma,{option:n,lineItemProps:f,key:"line-".concat(h)})});return d.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Dl(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==c[0]&&c.unshift(0);var h=c.map((f,m)=>{var x=c[m+1],v=x==null,p=v?a+o-f:x-f;if(p<=0)return null;var g=m%t.length;return d.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:p,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return d.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Ll(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:o,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var c=u.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==c[0]&&c.unshift(0);var h=c.map((f,m)=>{var x=c[m+1],v=x==null,p=v?a+o-f:x-f;if(p<=0)return null;var g=m%r.length;return d.createElement("rect",{key:"react-".concat(m),x:f,y:s,width:p,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return d.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var $l=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return Ln($t(J(J(J({},de),r),{},{ticks:$n(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},zl=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return Ln($t(J(J(J({},de),r),{},{ticks:$n(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Ml={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ue.grid};function ha(e){var t=mi(),r=hi(),n=kn(),a=J(J({},ie(e,Ml)),{},{x:L(e.x)?e.x:n.left,y:L(e.y)?e.y:n.top,width:L(e.width)?e.width:n.width,height:L(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:o,x:l,y:u,width:c,height:h,syncWithTicks:f,horizontalValues:m,verticalValues:x}=a,v=Oe(),p=$(A=>Qt(A,"xAxis",s,v)),g=$(A=>Qt(A,"yAxis",o,v));if(!Zt(c)||!Zt(h)||!L(l)||!L(u))return null;var y=a.verticalCoordinatesGenerator||$l,j=a.horizontalCoordinatesGenerator||zl,{horizontalPoints:w,verticalPoints:O}=a;if((!w||!w.length)&&typeof j=="function"){var S=m&&m.length,b=j({yAxis:g?J(J({},g),{},{ticks:S?m:g.ticks}):void 0,width:t??c,height:r??h,offset:n},S?!0:f);Jt(Array.isArray(b),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof b,"]")),Array.isArray(b)&&(w=b)}if((!O||!O.length)&&typeof y=="function"){var N=x&&x.length,_=y({xAxis:p?J(J({},p),{},{ticks:N?x:p.ticks}):void 0,width:t??c,height:r??h,offset:n},N?!0:f);Jt(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(O=_)}return d.createElement(Pe,{zIndex:a.zIndex},d.createElement("g",{className:"recharts-cartesian-grid"},d.createElement(Cl,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),d.createElement(Dl,pe({},a,{horizontalPoints:w})),d.createElement(Ll,pe({},a,{verticalPoints:O})),d.createElement(Tl,pe({},a,{offset:n,horizontalPoints:w,xAxis:p,yAxis:g})),d.createElement(Il,pe({},a,{offset:n,verticalPoints:O,xAxis:p,yAxis:g}))))}ha.displayName="CartesianGrid";var Rl=["children"];function Bl(e,t){if(e==null)return{};var r,n,a=Wl(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wl(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Fl={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Kl=d.createContext(Fl);function Gl(e){var{children:t}=e,r=Bl(e,Rl);return d.createElement(Kl.Provider,{value:r},t)}function va(e,t){var r,n,a=$(c=>En(c,e)),s=$(c=>Cn(c,t)),o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:U.allowDataOverflow,l=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:q.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function Hl(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=zn(),{needClipX:s,needClipY:o,needClip:l}=va(t,r);if(!l||!a)return null;var{x:u,y:c,width:h,height:f}=a;return d.createElement("clipPath",{id:"clipPath-".concat(n)},d.createElement("rect",{x:s?u:u-h/2,y:o?c:c-f/2,width:s?h:h*2,height:o?f:f*2}))}var pa=(e,t,r,n)=>Rn(e,"xAxis",t,n),xa=(e,t,r,n)=>Bn(e,"xAxis",t,n),ga=(e,t,r,n)=>Rn(e,"yAxis",r,n),ya=(e,t,r,n)=>Bn(e,"yAxis",r,n),Yl=Lt([Mn,pa,ga,xa,ya],(e,t,r,n,a)=>xi(e,"xAxis")?Ge(t,n,!1):Ge(r,a,!1)),Xl=(e,t,r,n,a)=>a;function Vl(e){return e.type==="line"}var Ul=Lt([pi,Xl],(e,t)=>e.filter(Vl).find(r=>r.id===t)),ql=Lt([Mn,pa,ga,xa,ya,Ul,Yl,vi],(e,t,r,n,a,s,o,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:h}=l;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:m}=s,x;if(m!=null&&m.length>0?x=m:x=u?.slice(c,h+1),x!=null)return xc({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:x})}});function Zl(e){var t=Dt(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,o=Number(a),l=Number(s);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var Jl=["id"],Ql=["type","layout","connectNulls","needClip","shape"],ec=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Te.apply(null,arguments)}function on(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?on(Object(r),!0).forEach(function(n){tc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):on(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tc(e,t,r){return(t=rc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rc(e){var t=nc(e,"string");return typeof t=="symbol"?t:t+""}function nc(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mt(e,t){if(e==null)return{};var r,n,a=ac(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ac(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ic=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Fn(r,t),payload:e}]},sc=d.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:o,hide:l,unit:u,tooltipType:c,id:h}=e,f={dataDefinedOnItem:r,getPosition:wi,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Fn(o,t),hide:l,type:c,color:n,unit:u,graphicalItemId:h}};return d.createElement(ji,{tooltipEntrySettings:f})}),ba=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function oc(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var lc=(e,t,r)=>{var n=r.reduce((x,v)=>x+v);if(!n)return ba(t,e);for(var a=Math.floor(e/n),s=e%n,o=t-e,l=[],u=0,c=0;u<r.length;c+=(h=r[u])!==null&&h!==void 0?h:0,++u){var h,f=r[u];if(f!=null&&c+f>s){l=[...r.slice(0,u),s-c];break}}var m=l.length%2===0?[0,o]:[o];return[...oc(r,a),...l,...m].map(x=>"".concat(x,"px")).join(", ")};function cc(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:o}=n,{id:l}=n,u=Mt(n,Jl),c=we(u);return d.createElement(_i,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:c,needClip:o,clipPathId:t})}function uc(e){var{showLabels:t,children:r,points:n}=e,a=d.useMemo(()=>n?.map(s=>{var o,l,u={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return le(le({},u),{},{value:s.value,payload:s.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return d.createElement(Si,{value:t?a:void 0},r)}function ln(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:o,layout:l,connectNulls:u,needClip:c,shape:h}=s,f=Mt(s,Ql),m=le(le({},he(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:u,strokeDasharray:a??s.strokeDasharray});return d.createElement(d.Fragment,null,n?.length>1&&d.createElement($o,Te({shapeType:"curve",option:h},m,{pathRef:r})),d.createElement(cc,{points:n,clipPathId:t,props:s}))}function dc(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function fc(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:c,animationDuration:h,animationEasing:f,animateNewValues:m,width:x,height:v,onAnimationEnd:p,onAnimationStart:g}=r,y=a.current,j=Ct(o,"recharts-line-"),w=d.useRef(j),[O,S]=d.useState(!1),b=!O,N=d.useCallback(()=>{typeof p=="function"&&p(),S(!1)},[p]),_=d.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]),A=dc(n.current),M=d.useRef(0);w.current!==j&&(M.current=s.current,w.current=j);var I=M.current;return d.createElement(uc,{points:o,showLabels:b},r.children,d.createElement(Tt,{animationId:j,begin:c,duration:h,isActive:u,easing:f,onAnimationEnd:N,onAnimationStart:_,key:j},z=>{var H=re(I,A+I,z),C=Math.min(H,A),R;if(u)if(l){var V="".concat(l).split(/[,\s]+/gim).map(E=>parseFloat(E));R=lc(C,A,V)}else R=ba(A,C);else R=l==null?void 0:String(l);if(z>0&&A>0&&(a.current=o,s.current=Math.max(s.current,C)),y){var D=y.length/o.length,F=z===1?o:o.map((E,Q)=>{var G=Math.floor(Q*D);if(y[G]){var te=y[G];return le(le({},E),{},{x:re(te.x,E.x,z),y:re(te.y,E.y,z)})}return m?le(le({},E),{},{x:re(x*2,E.x,z),y:re(v/2,E.y,z)}):le(le({},E),{},{x:E.x,y:E.y})});return a.current=F,d.createElement(ln,{props:r,points:F,clipPathId:t,pathRef:n,strokeDasharray:R})}return d.createElement(ln,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:R})}),d.createElement(Ni,{label:r.label}))}function mc(e){var{clipPathId:t,props:r}=e,n=d.useRef(null),a=d.useRef(0),s=d.useRef(null);return d.createElement(fc,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var hc=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Kn(e.payload,t)}};class vc extends d.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:o,top:l,left:u,width:c,height:h,id:f,needClip:m,zIndex:x}=this.props;if(t)return null;var v=X("recharts-line",a),p=f,{r:g,strokeWidth:y}=Zl(r),j=Pi(r),w=g*2+y,O=m?"url(#clipPath-".concat(j?"":"dots-").concat(p,")"):void 0;return d.createElement(Pe,{zIndex:x},d.createElement(je,{className:v},m&&d.createElement("defs",null,d.createElement(Hl,{clipPathId:p,xAxisId:s,yAxisId:o}),!j&&d.createElement("clipPath",{id:"clipPath-dots-".concat(p)},d.createElement("rect",{x:u-w/2,y:l-w/2,width:c+w,height:h+w}))),d.createElement(Gl,{xAxisId:s,yAxisId:o,data:n,dataPointFormatter:hc,errorBarOffset:0},d.createElement(mc,{props:this.props,clipPathId:p}))),d.createElement(Oi,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:O}))}}var ja={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ue.line,type:"linear"};function pc(e){var t=ie(e,ja),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:u,hide:c,isAnimationActive:h,label:f,legendType:m,xAxisId:x,yAxisId:v,id:p}=t,g=Mt(t,ec),{needClip:y}=va(x,v),j=zn(),w=Et(),O=Oe(),S=$(M=>ql(M,x,v,O,p));if(w!=="horizontal"&&w!=="vertical"||S==null||j==null)return null;var{height:b,width:N,x:_,y:A}=j;return d.createElement(vc,Te({},g,{id:p,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,isAnimationActive:h,hide:c,label:f,legendType:m,xAxisId:x,yAxisId:v,points:S,layout:w,height:b,width:N,left:_,top:A,needClip:y}))}function xc(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:o,bandSize:l,displayedData:u}=e;return u.map((c,h)=>{var f=Kn(c,o);if(t==="horizontal"){var m=er({axis:r,ticks:a,bandSize:l,entry:c,index:h}),x=pt(f)?null:n.scale.map(f);return{x:m,y:x??null,value:f,payload:c}}var v=pt(f)?null:r.scale.map(f),p=er({axis:n,ticks:s,bandSize:l,entry:c,index:h});return v==null||p==null?null:{x:v,y:p,value:f,payload:c}}).filter(Boolean)}function gc(e){var t=ie(e,ja),r=Oe();return d.createElement(gi,{id:t.id,type:"line"},n=>d.createElement(d.Fragment,null,d.createElement(yi,{legendPayload:ic(t)}),d.createElement(sc,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),d.createElement(bi,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),d.createElement(pc,Te({},t,{id:n}))))}var wa=d.memo(gc,Wn);wa.displayName="Line";var yc=["domain","range"],bc=["domain","range"];function cn(e,t){if(e==null)return{};var r,n,a=jc(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jc(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function un(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Pa(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=cn(e,yc),{domain:s,range:o}=t,l=cn(t,bc);return!un(r,s)||!un(n,o)?!1:Wn(a,l)}var wc=["type"],Pc=["dangerouslySetInnerHTML","ticks","scale"],Oc=["id","scale"];function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ot.apply(null,arguments)}function dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dn(Object(r),!0).forEach(function(n){Nc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nc(e,t,r){return(t=Sc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sc(e){var t=_c(e,"string");return typeof t=="symbol"?t:t+""}function _c(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nt(e,t){if(e==null)return{};var r,n,a=kc(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kc(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ac(e){var t=De(),r=d.useRef(null),n=Gn(),{type:a}=e,s=Nt(e,wc),o=Xn(n,"xAxis",a),l=d.useMemo(()=>{if(o!=null)return fn(fn({},s),{},{type:o})},[s,o]);return d.useLayoutEffect(()=>{l!=null&&(r.current===null?t(ki(l)):r.current!==l&&t(Ai({prev:r.current,next:l})),r.current=l)},[l,t]),d.useLayoutEffect(()=>()=>{r.current&&(t(Ei(r.current)),r.current=null)},[t]),null}var Ec=e=>{var{xAxisId:t,className:r}=e,n=$(Hn),a=Oe(),s="xAxis",o=$(y=>Yn(y,s,t,a)),l=$(y=>Ci(y,t)),u=$(y=>Ti(y,t)),c=$(y=>Ii(y,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:h,ticks:f,scale:m}=e,x=Nt(e,Pc),{id:v,scale:p}=c,g=Nt(c,Oc);return d.createElement(zt,Ot({},x,g,{x:u.x,y:u.y,width:l.width,height:l.height,className:X("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o,axisType:s}))},Cc={allowDataOverflow:U.allowDataOverflow,allowDecimals:U.allowDecimals,allowDuplicatedCategory:U.allowDuplicatedCategory,angle:U.angle,axisLine:de.axisLine,height:U.height,hide:!1,includeHidden:U.includeHidden,interval:U.interval,label:!1,minTickGap:U.minTickGap,mirror:U.mirror,orientation:U.orientation,padding:U.padding,reversed:U.reversed,scale:U.scale,tick:U.tick,tickCount:U.tickCount,tickLine:de.tickLine,tickSize:de.tickSize,type:U.type,xAxisId:0},Tc=e=>{var t=ie(e,Cc);return d.createElement(d.Fragment,null,d.createElement(Ac,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),d.createElement(Ec,t))},Oa=d.memo(Tc,Pa);Oa.displayName="XAxis";var Ic=["type"],Dc=["dangerouslySetInnerHTML","ticks","scale"],Lc=["id","scale"];function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},St.apply(null,arguments)}function mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mn(Object(r),!0).forEach(function(n){$c(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $c(e,t,r){return(t=zc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zc(e){var t=Mc(e,"string");return typeof t=="symbol"?t:t+""}function Mc(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _t(e,t){if(e==null)return{};var r,n,a=Rc(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rc(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bc(e){var t=De(),r=d.useRef(null),n=Gn(),{type:a}=e,s=_t(e,Ic),o=Xn(n,"yAxis",a),l=d.useMemo(()=>{if(o!=null)return hn(hn({},s),{},{type:o})},[o,s]);return d.useLayoutEffect(()=>{l!=null&&(r.current===null?t(Di(l)):r.current!==l&&t(Li({prev:r.current,next:l})),r.current=l)},[l,t]),d.useLayoutEffect(()=>()=>{r.current&&(t($i(r.current)),r.current=null)},[t]),null}function Wc(e){var{yAxisId:t,className:r,width:n,label:a}=e,s=d.useRef(null),o=d.useRef(null),l=$(Hn),u=Oe(),c=De(),h="yAxis",f=$(b=>zi(b,t)),m=$(b=>Mi(b,t)),x=$(b=>Yn(b,h,t,u)),v=$(b=>Ri(b,t));if(d.useLayoutEffect(()=>{if(!(n!=="auto"||!f||Bi(a)||d.isValidElement(a)||v==null)){var b=s.current;if(b){var N=b.getCalculatedWidth();Math.round(f.width)!==Math.round(N)&&c(Wi({id:t,width:N}))}}},[x,f,c,a,t,n,v]),f==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:y}=e,j=_t(e,Dc),{id:w,scale:O}=v,S=_t(v,Lc);return d.createElement(zt,St({},j,S,{ref:s,labelRef:o,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:X("recharts-".concat(h," ").concat(h),r),viewBox:l,ticks:x,axisType:h}))}var Fc={allowDataOverflow:q.allowDataOverflow,allowDecimals:q.allowDecimals,allowDuplicatedCategory:q.allowDuplicatedCategory,angle:q.angle,axisLine:de.axisLine,hide:!1,includeHidden:q.includeHidden,interval:q.interval,label:!1,minTickGap:q.minTickGap,mirror:q.mirror,orientation:q.orientation,padding:q.padding,reversed:q.reversed,scale:q.scale,tick:q.tick,tickCount:q.tickCount,tickLine:de.tickLine,tickSize:de.tickSize,type:q.type,width:q.width,yAxisId:0},Kc=e=>{var t=ie(e,Fc);return d.createElement(d.Fragment,null,d.createElement(Bc,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),d.createElement(Wc,t))},Na=d.memo(Kc,Pa);Na.displayName="YAxis";function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kt.apply(null,arguments)}var Gc={top:5,right:5,bottom:5,left:5},Hc={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Gc,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Yc=d.forwardRef(function(t,r){var n,a=ie(t.categoricalChartProps,Hc),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:c}=t,h={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return d.createElement(Fi,{preloadedState:{options:h},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:s},d.createElement(Ki,{chartData:c.data}),d.createElement(Gi,{layout:a.layout,margin:a.margin}),d.createElement(Hi,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),d.createElement(Yi,kt({},a,{ref:r})))}),Xc=["axis"],Vc=d.forwardRef((e,t)=>d.createElement(Yc,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xc,tooltipPayloadSearcher:Xi,categoricalChartProps:e,ref:t}));function Uc({projectId:e}){const{getProject:t,getLiveMatrix:r,fetchLiveMatrix:n,isLoadingMatrix:a}=Ie(),s=t(e),o=r(e);if(d.useEffect(()=>{n(e)},[e,n]),!s)return null;const l={not_started:i.jsx(xn,{className:"w-3 h-3"}),in_progress:i.jsx(ht,{className:"w-3 h-3"}),submitted:i.jsx(ht,{className:"w-3 h-3"}),approved:i.jsx(Be,{className:"w-3 h-3"}),needs_revision:i.jsx(Ra,{className:"w-3 h-3"})},u={not_started:"bg-muted text-muted-foreground",in_progress:"bg-yellow-500/20 text-yellow-500",submitted:"bg-blue-500/20 text-blue-500",approved:"bg-green-500/20 text-green-500",needs_revision:"bg-red-500/20 text-red-500"},c={green:"border-green-500/50 bg-green-500/5",yellow:"border-yellow-500/50 bg-yellow-500/5",red:"border-red-500/50 bg-red-500/5"},h=m=>m==="approved"||m==="submitted"||m==="in_progress",f=(m,x,v)=>{if(m&&x){const p=new Date(m),g=new Date(x);if(!Number.isNaN(p.getTime())&&!Number.isNaN(g.getTime()))return`${p.toLocaleString()} - ${g.toLocaleString()}`}if(v&&v>0){if(v<60)return`${v} min`;if(v<1440){const y=Math.floor(v/60),j=v%60;return j>0?`${y}h ${j}m`:`${y} hour${y>1?"s":""}`}const p=Math.floor(v/1440),g=Math.floor(v%1440/60);return g>0?`${p}d ${g}h`:`${p} day${p>1?"s":""}`}return"Duration not set"};return a&&o.length===0?i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx(fe,{className:"w-6 h-6 animate-spin text-cyan-500 mr-2"}),i.jsx("span",{className:"text-muted-foreground",children:"Loading team progress..."})]}):o.length===0?i.jsxs("div",{className:"text-center py-12 bg-muted/40 rounded-lg border border-border",children:[i.jsx("p",{className:"text-muted-foreground",children:"No teams have joined this project yet."}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Share the join code ",i.jsx("span",{className:"font-mono text-cyan-500",children:s.joinCode})," with participants."]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Team Progress Matrix"}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-green-500/20"}),i.jsx("span",{children:"Approved"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-blue-500/20"}),i.jsx("span",{children:"Submitted"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-yellow-500/20"}),i.jsx("span",{children:"In Progress"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-muted"}),i.jsx("span",{children:"Not Started"})]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-3 text-muted-foreground text-sm font-medium border-b border-border",children:"Team"}),s.sessions.map((m,x)=>i.jsx("th",{className:"p-3 text-center text-muted-foreground text-sm font-medium border-b border-border min-w-[100px]",children:i.jsxs(We,{children:[i.jsx(Fe,{asChild:!0,children:i.jsx("span",{className:"cursor-help",children:x+1})}),i.jsx(Ke,{children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{children:m.title||`Session ${x+1}`}),i.jsx("p",{children:f(m.startDate,m.endDate,m.durationMinutes)})]})})]})},m.id||x)),i.jsx("th",{className:"p-3 text-center text-muted-foreground text-sm font-medium border-b border-border",children:"Progress"})]})}),i.jsx("tbody",{children:o.map(m=>{const x=m.sessionProgress.filter(p=>p.status==="approved"||p.status==="submitted").length,v=s.sessions.length>0?Math.round(x/s.sessions.length*100):0;return i.jsxs("tr",{className:ne("border-b border-border/70 hover:bg-muted/60",c[m.riskLevel]),children:[i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:ne("w-2 h-8 rounded-full",m.riskLevel==="green"&&"bg-green-500",m.riskLevel==="yellow"&&"bg-yellow-500",m.riskLevel==="red"&&"bg-red-500")}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-foreground",children:m.teamName}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[m.members.length," members"]})]})]})}),m.sessionProgress.map((p,g)=>i.jsx("td",{className:"p-3 text-center",children:h(p.status)&&p.statusUpdatedAt?i.jsxs(We,{children:[i.jsx(Fe,{asChild:!0,children:i.jsx("div",{className:ne("inline-flex items-center justify-center w-8 h-8 rounded-lg",u[p.status]),children:l[p.status]})}),i.jsx(Ke,{children:new Date(p.statusUpdatedAt).toLocaleString()})]}):i.jsx("div",{className:ne("inline-flex items-center justify-center w-8 h-8 rounded-lg",u[p.status]),children:l[p.status]})},g)),i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-cyan-500 rounded-full transition-all",style:{width:`${v}%`}})}),i.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[v,"%"]})]})})]},m.teamId)})})]})}),i.jsx("div",{className:"p-4 bg-muted/40 rounded-lg border border-border",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on a team row to view individual member progress and details."})})]})}const vn=["#06B6D4","#8B5CF6","#F59E0B","#22C55E","#EF4444","#EC4899","#3B82F6","#F97316","#14B8A6","#A855F7","#64748B","#84CC16"];function qc(e){return e.toISOString().split("T")[0]}function pn(e){return`${e.getMonth()+1}/${e.getDate()}`}function Zc({projectId:e,projectStartDate:t,projectEndDate:r}){const{getDipChartData:n,fetchDipChartData:a,isLoadingMetrics:s}=Ie(),o=n(e);d.useEffect(()=>{a(e)},[e,a]);const l=d.useMemo(()=>{const v=new Map;for(const p of o)v.has(p.teamId)||v.set(p.teamId,p.teamName);return Array.from(v.entries()).map(([p,g],y)=>({id:p,name:g,color:vn[y%vn.length],dataKey:`team_${p}`}))},[o]),{chartRows:u,dipPoint:c}=d.useMemo(()=>{const v=new Date(t),p=new Date(r),g=new Date,y=p<g?p:g;if(isNaN(v.getTime())||isNaN(y.getTime())||v>y)return{chartRows:[],dipPoint:null};const j=[],w=new Date(v);w.setHours(0,0,0,0);const O=new Date(y);for(O.setHours(23,59,59,999);w<=O;){const _=qc(w);j.push({dateKey:_,label:pn(w),ts:w.getTime()}),w.setDate(w.getDate()+1)}const S=new Map;let b=101,N="";for(const _ of o){const A=_.date.split("T")[0],M=`${A}|${_.teamId}`;S.set(M,_.score),_.score<b&&(b=_.score,N=A)}for(const _ of j)for(const A of l){const M=`${_.dateKey}|${A.id}`,I=S.get(M);I!==void 0&&(_[A.dataKey]=I)}return{chartRows:j,dipPoint:N?{dateKey:N,score:b}:null}},[o,l,t,r]),h=d.useMemo(()=>{const v=new Map;for(const p of o){const g=v.get(p.teamId);(!g||p.date>g.date)&&v.set(p.teamId,p)}return l.map(p=>{const g=v.get(p.id);return{...p,latestScore:g?.score??0,overallScore:g?.overallScore??"needs_work"}})},[o,l]),f=d.useMemo(()=>h.length===0?0:Math.round(h.reduce((v,p)=>v+p.latestScore,0)/h.length),[h]),m=({active:v,payload:p,label:g})=>{if(!v||!p||p.length===0)return null;const y=p.filter(j=>j.value!==void 0&&j.value!==null);return y.length===0?null:i.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 shadow-lg text-sm",children:[i.jsx("div",{className:"text-muted-foreground mb-2",children:g}),y.map((j,w)=>{const O=j.dataKey.replace("team_",""),S=l.find(_=>_.id===O),b=j.payload.dateKey,N=o.find(_=>_.teamId===O&&_.date.startsWith(b));return i.jsxs("div",{className:"mb-2 last:mb-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:j.color}}),i.jsx("span",{className:"font-medium text-foreground",children:S?.name||O}),i.jsxs("span",{className:"ml-auto font-bold text-foreground",children:[j.value,"%"]})]}),N&&Object.keys(N.rubricScores).length>0&&i.jsx("div",{className:"ml-5 mt-1 space-y-0.5",children:Object.entries(N.rubricScores).map(([_,A])=>i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:_}),i.jsxs("span",{children:[A,"%"]})]},_))})]},w)})]})};if(s&&o.length===0)return i.jsx(st,{className:"bg-card border-border",children:i.jsxs(ot,{className:"flex items-center justify-center py-12",children:[i.jsx(fe,{className:"w-6 h-6 animate-spin text-cyan-500 mr-2"}),i.jsx("span",{className:"text-muted-foreground",children:"Loading precheck data..."})]})});if(o.length===0)return i.jsxs(st,{className:"bg-card border-border",children:[i.jsx(Xt,{children:i.jsxs(Vt,{className:"flex items-center gap-2 text-foreground",children:[i.jsx(ct,{className:"w-5 h-5 text-cyan-500"}),"The Dip Chart",i.jsx(Rt,{children:i.jsxs(We,{children:[i.jsx(Fe,{children:i.jsx(Bt,{className:"w-4 h-4 text-muted-foreground"})}),i.jsx(Ke,{className:"max-w-xs",children:i.jsx("p",{children:"The Dip Chart shows each team's pre-check scores over time. Each point represents a rubric-weighted score from a pre-check run."})})]})})]})}),i.jsx(ot,{children:i.jsxs("div",{className:"text-center py-8 bg-muted/40 rounded-lg border border-border",children:[i.jsx(ct,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"No pre-check data yet."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Scores will appear here as explorers run pre-checks on their work."})]})})]});const x=u.length<=14?0:u.length<=30?1:Math.floor(u.length/15);return i.jsxs(st,{className:"bg-card border-border",children:[i.jsx(Xt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Vt,{className:"flex items-center gap-2 text-foreground",children:[i.jsx(ct,{className:"w-5 h-5 text-cyan-500"}),"The Dip Chart",i.jsx(Rt,{children:i.jsxs(We,{children:[i.jsx(Fe,{children:i.jsx(Bt,{className:"w-4 h-4 text-muted-foreground"})}),i.jsx(Ke,{className:"max-w-xs",children:i.jsx("p",{children:"The Dip Chart shows each team's pre-check scores over time. Each point represents a rubric-weighted score from a pre-check run. Hover over data points to see individual rubric breakdowns."})})]})})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[l.map(v=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:v.color}}),i.jsx("span",{className:"text-muted-foreground",children:v.name})]},v.id)),i.jsx("div",{className:"flex items-center gap-2 ml-4 px-3 py-1 bg-cyan-500/10 rounded border border-cyan-500/30",children:i.jsxs("span",{className:"text-cyan-500 font-medium",children:["Avg: ",f,"%"]})})]})]})}),i.jsxs(ot,{children:[i.jsx("div",{className:"h-[300px]",children:i.jsx(Vi,{width:"100%",height:"100%",children:i.jsxs(Vc,{data:u,margin:{top:5,right:30,left:20,bottom:5},children:[i.jsx(ha,{strokeDasharray:"3 3",stroke:"var(--border)"}),i.jsx(Oa,{dataKey:"label",stroke:"var(--muted-foreground)",tick:{fill:"var(--muted-foreground)",fontSize:11},interval:x}),i.jsx(Na,{stroke:"var(--muted-foreground)",tick:{fill:"var(--muted-foreground)",fontSize:12},domain:[0,100],tickFormatter:v=>`${v}%`}),i.jsx(xo,{content:i.jsx(m,{})}),i.jsx(Ui,{}),c&&i.jsx(da,{x:pn(new Date(c.dateKey)),stroke:"#EF4444",strokeDasharray:"5 5",label:{value:`The Dip (${c.score}%)`,fill:"#EF4444",fontSize:11,position:"top"}}),l.map(v=>i.jsx(wa,{type:"monotone",dataKey:v.dataKey,name:v.name,stroke:v.color,strokeWidth:2,dot:{r:4,fill:v.color},activeDot:{r:6,fill:v.color},connectNulls:!0},v.id))]})})}),i.jsx("div",{className:"mt-6 grid gap-4",style:{gridTemplateColumns:`repeat(${Math.min(h.length,4)}, 1fr)`},children:h.map(v=>{const p=v.overallScore==="ready"?"bg-green-500":v.overallScore==="needs_work"?"bg-amber-500":"bg-red-500";return i.jsxs("div",{className:"bg-muted/40 rounded-lg p-3 border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:v.color}}),i.jsx("span",{className:"text-xs text-muted-foreground truncate",children:v.name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full ${p} rounded-full`,style:{width:`${v.latestScore}%`}})}),i.jsxs("span",{className:"text-sm text-foreground font-medium",children:[v.latestScore,"%"]})]})]},v.id)})})]})]})}function Jc({projectId:e}){const{currentUser:t}=gn(),{getProject:r,getProjectInterventions:n,fetchInterventions:a,proposeIntervention:s,approveIntervention:o,rejectIntervention:l}=Ie(),u=r(e),c=n(e),[h,f]=d.useState(!1),[m,x]=d.useState([]),[v,p]=d.useState(""),[g,y]=d.useState(!1);if(d.useEffect(()=>{a(e)},[e,a]),!u)return null;const j=u.teams.filter(b=>b.riskLevel==="red"||b.riskLevel==="yellow"),w=async()=>{if(!(m.length===0||!v.trim())){y(!0);try{await s(e,{timestamp:new Date().toISOString(),type:"proactive",description:v,targetTeamIds:m},t?.id),f(!1),x([]),p("")}finally{y(!1)}}},O=async b=>{await o(b)},S=async b=>{await l(b)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Signal & Risk Center"}),i.jsxs(ae,{onClick:()=>f(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white",disabled:j.length===0,children:[i.jsx(ut,{className:"w-4 h-4 mr-2"}),"AI Intervention"]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-500 mb-2",children:[i.jsx(Be,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"On Track"})]}),i.jsx("div",{className:"text-3xl font-bold text-foreground",children:u.teams.filter(b=>b.riskLevel==="green").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"teams"})]}),i.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-yellow-500 mb-2",children:[i.jsx(Ee,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"Needs Attention"})]}),i.jsx("div",{className:"text-3xl font-bold text-foreground",children:u.teams.filter(b=>b.riskLevel==="yellow").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"teams"})]}),i.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-500 mb-2",children:[i.jsx(Ee,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"At Risk"})]}),i.jsx("div",{className:"text-3xl font-bold text-foreground",children:u.teams.filter(b=>b.riskLevel==="red").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"teams"})]})]}),j.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Teams Requiring Attention"}),j.map(b=>i.jsxs("div",{className:ne("p-4 rounded-lg border",b.riskLevel==="yellow"?"bg-yellow-500/5 border-yellow-500/30":"bg-red-500/5 border-red-500/30"),children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:ne("w-3 h-3 rounded-full",b.riskLevel==="yellow"?"bg-yellow-500":"bg-red-500")}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-foreground",children:b.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.memberIds.length," members"]})]})]}),i.jsx(vt,{variant:"outline",className:ne(b.riskLevel==="yellow"?"border-yellow-500/50 text-yellow-500":"border-red-500/50 text-red-500"),children:b.riskLevel==="yellow"?"Warning":"Critical"})]}),b.riskReason&&i.jsxs("div",{className:"mt-3 p-2 bg-muted/50 rounded flex items-center gap-2 border border-border",children:[i.jsx(Ee,{className:ne("w-4 h-4",b.riskLevel==="yellow"?"text-yellow-500":"text-red-500")}),i.jsx("span",{className:"text-sm text-muted-foreground",children:b.riskReason})]}),i.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(ht,{className:"w-3 h-3"}),"Last activity: ",Wt(b.lastActivityAt,"MMM d, h:mm a","Unknown")]})]},b.id))]}):i.jsxs("div",{className:"text-center py-8 bg-green-500/5 border border-green-500/30 rounded-lg",children:[i.jsx(Be,{className:"w-12 h-12 mx-auto text-green-500 mb-2"}),i.jsx("h3",{className:"text-lg font-medium text-foreground",children:"All Teams On Track"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No immediate risks detected"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-foreground mb-4",children:"Intervention History"}),c.length===0?i.jsxs("div",{className:"text-center py-6 bg-muted/40 rounded-lg border border-border",children:[i.jsx(qi,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No interventions yet"})]}):i.jsx("div",{className:"space-y-3",children:c.map(b=>i.jsxs("div",{className:"p-4 bg-card rounded-lg border border-border",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ut,{className:ne("w-4 h-4",b.status==="approved"?"text-green-500":b.status==="rejected"?"text-red-500":"text-yellow-500")}),i.jsxs("span",{className:"text-sm text-foreground capitalize",children:[b.type," Intervention"]})]}),i.jsx(vt,{variant:"outline",className:ne(b.status==="approved"?"border-green-500/50 text-green-500":b.status==="rejected"?"border-red-500/50 text-red-500":b.status==="executed"?"border-blue-500/50 text-blue-500":"border-yellow-500/50 text-yellow-500"),children:b.status})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:b.description}),i.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:Wt(b.timestamp,"MMM d, yyyy h:mm a","Unknown")}),b.status==="proposed"&&i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsxs(ae,{size:"sm",onClick:()=>O(b.id),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(Be,{className:"w-3 h-3 mr-1"}),"Approve"]}),i.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>S(b.id),className:"border-red-500/50 text-red-500 hover:bg-red-500/10",children:[i.jsx(xn,{className:"w-3 h-3 mr-1"}),"Reject"]})]})]},b.id))})]}),i.jsx(yn,{open:h,onOpenChange:f,children:i.jsxs(bn,{className:"bg-card border-border",children:[i.jsxs(jn,{children:[i.jsx(wn,{children:"Propose AI Intervention"}),i.jsx(Pn,{children:"Send a supportive message to selected teams through the AI assistant"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Select Teams"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(b=>i.jsx("button",{onClick:()=>{m.includes(b.id)?x(m.filter(N=>N!==b.id)):x([...m,b.id])},className:ne("px-3 py-1 rounded-full border text-sm transition-all",m.includes(b.id)?"border-cyan-500 bg-cyan-500/20 text-cyan-500":"border-border text-muted-foreground hover:border-border/70"),children:b.name},b.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Intervention Message"}),i.jsx(ka,{value:v,onChange:b=>p(b.target.value),placeholder:"The AI will send this supportive message to the selected teams...",className:"bg-background border-border min-h-[100px]"})]})]}),i.jsxs(Aa,{children:[i.jsx(ae,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),i.jsxs(ae,{onClick:w,disabled:m.length===0||!v.trim()||g,className:"bg-cyan-600 hover:bg-cyan-700 text-white",children:[g?i.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(ut,{className:"w-4 h-4 mr-2"}),"Propose Intervention"]})]})]})})]})}function Qc({projectId:e}){const{getProject:t}=Ie(),r=t(e),[n,a]=d.useState([]),[s,o]=d.useState({total:0,pending:0,graded:0,avgScore:0}),[l,u]=d.useState(!0),[c,h]=d.useState(""),[f,m]=d.useState("all"),[x,v]=d.useState("all"),[p,g]=d.useState(!1),[y,j]=d.useState(null),[w,O]=d.useState(""),[S,b]=d.useState(!1),[N,_]=d.useState(null),[A,M]=d.useState(new Set),[I,z]=d.useState(new Set),[H,C]=d.useState(!1);if(d.useEffect(()=>{async function P(){u(!0);try{const k=await Ca({data:{projectId:e}});k.success&&(a(k.submissions||[]),o(k.stats||{total:0,pending:0,graded:0,avgScore:0}))}catch(k){console.error("Failed to fetch submissions:",k)}finally{u(!1)}}P()},[e]),!r)return null;const R=n.filter(P=>{const k=P.studentName.toLowerCase().includes(c.toLowerCase())||P.teamName.toLowerCase().includes(c.toLowerCase()),T=f==="all"||P.sessionIndex===parseInt(f),ee=x==="all"||P.teamId===x;return k&&T&&ee}),V=P=>{const k=r.sessions.findIndex(T=>T.id===P.sessionId);return k>=0?k+1:P.sessionIndex+1},D=async P=>{j(P),g(!0),b(!0),_(null),O("");try{const k=await Ta({data:{teamId:P.teamId,sessionId:P.sessionId}});if(!k.success){_(k.error||"Failed to load submitted content");return}const T=k.artifact?.content||"";if(!T.trim()){_("No submitted content found for this team/session.");return}O(T)}catch{_("Failed to load submitted content")}finally{b(!1)}},F=async P=>{z(k=>new Set(k).add(P.id));try{const k=await Ia({data:{artifactIds:P.id}});if(k.success&&k.updatedScores){const T=new Map(k.updatedScores.map(K=>[K.artifactId,K]));a(K=>K.map(rt=>{const nt=T.get(rt.id);return nt?{...rt,aiScore:nt.aiScore,rubricBreakdown:nt.rubricBreakdown}:rt}));const ee=k.updatedScores.find(K=>K.artifactId===P.id);ce.success("AI score refreshed",{description:`${P.studentName} scored ${ee?ee.aiScore:P.aiScore}%`})}else ce.error("Failed to re-grade submission")}catch{ce.error("Failed to re-grade submission")}finally{z(k=>{const T=new Set(k);return T.delete(P.id),T})}},E=async P=>{M(k=>new Set(k).add(P.id));try{(await Yt({data:{artifactIds:P.id}})).success?(a(T=>T.map(ee=>ee.id===P.id?{...ee,status:"graded"}:ee)),o(T=>({...T,pending:Math.max(0,T.pending-1),graded:T.graded+1})),ce.success("Submission graded",{description:`${P.studentName} confirmed at ${P.aiScore}%`})):ce.error("Failed to grade submission")}catch{ce.error("Failed to grade submission")}finally{M(k=>{const T=new Set(k);return T.delete(P.id),T})}},Q=n.filter(P=>P.status==="pending"),G=Q.length,te=async()=>{if(G!==0){C(!0);try{const P=Q.map(T=>T.id);if((await Yt({data:{artifactIds:P}})).success){const T=new Set(P);a(ee=>ee.map(K=>T.has(K.id)?{...K,status:"graded"}:K)),o(ee=>({...ee,pending:0,graded:ee.graded+P.length})),ce.success(`Graded ${P.length} submissions`)}else ce.error("Failed to grade submissions")}catch{ce.error("Failed to grade submissions")}finally{C(!1)}}};return l?i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx(fe,{className:"w-6 h-6 animate-spin text-cyan-500 mr-2"}),i.jsx("span",{className:"text-muted-foreground",children:"Loading submissions..."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"AI Assessment & Grading"}),G>0&&i.jsxs(ae,{size:"sm",onClick:te,disabled:H,className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[H?i.jsx(fe,{className:"w-3.5 h-3.5 animate-spin mr-1.5"}):i.jsx(tr,{className:"w-3.5 h-3.5 mr-1.5"}),"Grade All (",G,")"]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsx("div",{className:"flex-1 min-w-[200px]",children:i.jsxs("div",{className:"relative",children:[i.jsx(Zi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Ea,{value:c,onChange:P=>h(P.target.value),placeholder:"Search students or teams...",className:"pl-10 bg-background border-border"})]})}),i.jsxs(Ft,{value:f,onValueChange:m,children:[i.jsx(Kt,{className:"w-[180px] bg-background border-border",children:i.jsx(Gt,{placeholder:"All Sessions"})}),i.jsxs(Ht,{className:"bg-popover border-border",children:[i.jsx(Le,{value:"all",children:"All Sessions"}),r.sessions.map((P,k)=>i.jsx(Le,{value:k.toString(),children:P.title},P.id||k))]})]}),i.jsxs(Ft,{value:x,onValueChange:v,children:[i.jsx(Kt,{className:"w-[180px] bg-background border-border",children:i.jsx(Gt,{placeholder:"All Teams"})}),i.jsxs(Ht,{className:"bg-popover border-border",children:[i.jsx(Le,{value:"all",children:"All Teams"}),r.teams.map(P=>i.jsx(Le,{value:P.id,children:P.name},P.id))]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-foreground",children:s.total}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Submissions"})]}),i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:s.pending}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Review"})]}),i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-green-500",children:s.graded}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Graded"})]})]}),n.length===0?i.jsxs("div",{className:"text-center py-12 bg-muted/40 rounded-lg border border-border",children:[i.jsx(xt,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"No submissions yet."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Submissions will appear here once explorers start submitting their work."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-3 text-muted-foreground text-sm font-medium border-b border-border",children:"Student"}),i.jsx("th",{className:"text-left p-3 text-muted-foreground text-sm font-medium border-b border-border",children:"Team"}),i.jsx("th",{className:"text-center p-3 text-muted-foreground text-sm font-medium border-b border-border",children:"Session #"}),i.jsx("th",{className:"text-left p-3 text-muted-foreground text-sm font-medium border-b border-border",children:"Session"}),i.jsx("th",{className:"text-center p-3 text-muted-foreground text-sm font-medium border-b border-border",children:"AI Score"}),i.jsx("th",{className:"text-center p-3 text-muted-foreground text-sm font-medium border-b border-border",children:"Status"}),i.jsx("th",{className:"text-right p-3 text-muted-foreground text-sm font-medium border-b border-border",children:"Actions"})]})}),i.jsx("tbody",{children:R.slice(0,10).map(P=>i.jsxs("tr",{className:"border-b border-border/70 hover:bg-muted/60",children:[i.jsx("td",{className:"p-3",children:i.jsx("span",{className:"text-foreground",children:P.studentName})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:"text-muted-foreground",children:P.teamName})}),i.jsx("td",{className:"p-3 text-center",children:i.jsx("span",{className:"text-muted-foreground",children:V(P)})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:"text-muted-foreground",children:P.sessionTitle})}),i.jsx("td",{className:"p-3 text-center",children:i.jsxs("span",{className:ne("font-semibold",P.aiScore>=80?"text-green-500":P.aiScore>=60?"text-yellow-500":"text-red-500"),children:[P.aiScore,"%"]})}),i.jsx("td",{className:"p-3 text-center",children:i.jsx(vt,{variant:"outline",className:ne(P.status==="graded"?"border-green-500/50 text-green-500":"border-yellow-500/50 text-yellow-500"),children:P.status})}),i.jsx("td",{className:"p-3 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsxs(ae,{size:"sm",variant:"outline",className:"border-border",onClick:()=>D(P),children:[i.jsx(xt,{className:"w-3 h-3 mr-1"}),"Review"]}),i.jsxs(ae,{size:"sm",onClick:()=>F(P),disabled:I.has(P.id),className:"bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-700 hover:to-cyan-700 text-white",children:[I.has(P.id)?i.jsx(fe,{className:"w-3 h-3 animate-spin mr-1"}):i.jsx(Ji,{className:"w-3 h-3 mr-1"}),I.has(P.id)?"Re-grading...":"Re-grade"]}),P.status==="pending"&&i.jsxs(ae,{size:"sm",onClick:()=>E(P),disabled:A.has(P.id)||H,className:"bg-green-600 hover:bg-green-700 text-white",children:[A.has(P.id)?i.jsx(fe,{className:"w-3 h-3 animate-spin mr-1"}):i.jsx(tr,{className:"w-3 h-3 mr-1"}),"Grade"]})]})})]},P.id))})]})}),R.length>10&&i.jsx("div",{className:"text-center",children:i.jsxs(ae,{variant:"outline",className:"border-border",children:["Load More (",R.length-10," remaining)"]})})]}),i.jsx(yn,{open:p,onOpenChange:g,children:i.jsxs(bn,{className:"sm:max-w-4xl max-h-[85vh]",children:[i.jsxs(jn,{children:[i.jsx(wn,{children:"Submitted Team Content"}),i.jsx(Pn,{children:y?`${y.teamName}  Session ${V(y)} (${y.sessionTitle})`:"Review submitted content"})]}),i.jsxs("div",{className:"min-h-[320px] max-h-[60vh] overflow-auto rounded-lg border border-border bg-muted/20 p-4",children:[y&&y.rubricBreakdown.length>0&&i.jsxs("div",{className:"mb-4 rounded-lg border border-border bg-background p-3",children:[i.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Rubric Criteria Scores"}),i.jsx("div",{className:"space-y-2",children:y.rubricBreakdown.map((P,k)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[P.criterion," ",i.jsxs("span",{className:"text-xs",children:["(",P.weight,"%)"]})]}),i.jsx("span",{className:"font-medium text-foreground",children:P.score!==null?`${P.score}`:"-"})]},`${P.criterion}-${k}`))})]}),S?i.jsxs("div",{className:"flex items-center justify-center py-10 text-muted-foreground",children:[i.jsx(fe,{className:"w-5 h-5 animate-spin mr-2"}),"Loading submitted content..."]}):N?i.jsx("div",{className:"py-10 text-center text-sm text-muted-foreground",children:N}):i.jsx("div",{className:"h-full flex flex-col border rounded-lg overflow-hidden bg-background",children:i.jsx("div",{className:"flex-1 min-h-0 overflow-auto",children:i.jsx("div",{className:"tiptap focus:outline-none h-full p-4",dangerouslySetInnerHTML:{__html:w}})})})]})]})})]})}function du(){const e=Da(),{projectId:t}=La.useParams(),{isAuthenticated:r,currentUser:n}=gn(),{getProject:a,fetchProjects:s}=Ie(),o=a(t);if(d.useEffect(()=>{r||e({to:"/"})},[r,e]),d.useEffect(()=>{n&&!n.role.includes("creator")&&e({to:"/explorer"})},[n,e]),d.useEffect(()=>{n?.id&&!o&&s(n.id)},[n?.id,o,s]),!n||!n.role.includes("creator"))return null;if(!o)return i.jsx("div",{className:"container max-w-6xl mx-auto py-8 px-4",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Project Not Found"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"The project you're looking for doesn't exist."}),i.jsx(ae,{onClick:()=>e({to:"/creator"}),children:"Back to Dashboard"})]})});const l=o.teams.filter(u=>u.riskLevel==="red"||u.riskLevel==="yellow");return i.jsx("div",{className:"min-h-[calc(100vh-4rem)] bg-background",children:i.jsxs("div",{className:"container max-w-7xl mx-auto py-8 px-4",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(ae,{variant:"ghost",onClick:()=>e({to:"/creator"}),className:"mb-4 text-muted-foreground hover:text-foreground",children:[i.jsx($a,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[i.jsx(Qi,{className:"w-8 h-8 text-cyan-500"}),o.name]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitoring & Assessment"})]}),i.jsx("div",{className:"flex items-center gap-4",children:l.length>0&&i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-red-500/10 border border-red-500/30 rounded-lg",children:[i.jsx(Ee,{className:"w-4 h-4 text-red-500"}),i.jsxs("span",{className:"text-sm text-red-500",children:[l.length," team(s) at risk"]})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-foreground",children:o.teams.length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Teams"})]}),i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-foreground",children:o.teams.reduce((u,c)=>u+c.memberIds.length,0)}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Explorers"})]}),i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[(()=>{const u=o.sessions.findIndex(c=>{if(!c.endDate)return!0;const h=new Date(c.endDate);return isNaN(h.getTime())||h>new Date});return u===-1?o.sessions.length:u+1})()," / ",o.sessions.length]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Session"})]}),i.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[i.jsx("div",{className:`text-2xl font-bold ${o.riskLevel==="green"?"text-green-500":o.riskLevel==="yellow"?"text-yellow-500":"text-red-500"}`,children:o.riskLevel==="green"?"Healthy":o.riskLevel==="yellow"?"Attention":"At Risk"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Project Health"})]})]}),i.jsx("div",{className:"mb-8",children:i.jsx(Zc,{projectId:o.id,projectStartDate:o.startDate,projectEndDate:o.endDate})}),i.jsxs(za,{defaultValue:"matrix",children:[i.jsxs(Ma,{className:"mb-6",children:[i.jsxs(at,{value:"matrix",className:"gap-2",children:[i.jsx(ts,{className:"w-4 h-4"}),"Live Matrix",o.teams.length>0&&i.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-cyan-500/20 text-cyan-400 rounded-full",children:o.teams.length})]}),i.jsxs(at,{value:"assessment",className:"gap-2",children:[i.jsx(xt,{className:"w-4 h-4"}),"Assessment",o.sessions.length>0&&i.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-slate-500/20 text-slate-400 rounded-full",children:o.sessions.length})]}),i.jsxs(at,{value:"risk",className:"gap-2",children:[i.jsx(Ee,{className:"w-4 h-4"}),"Signal & Risk",l.length>0&&i.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-red-500/20 text-red-400 rounded-full",children:l.length})]})]}),i.jsx(it,{value:"matrix",children:i.jsx(Uc,{projectId:o.id})}),i.jsx(it,{value:"assessment",children:i.jsx(Qc,{projectId:o.id})}),i.jsx(it,{value:"risk",children:i.jsx(Jc,{projectId:o.id})})]})]})})}export{du as component};
